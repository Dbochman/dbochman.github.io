{"version":3,"file":"SessionsTrendChart-RvSmk7dj.js","sources":["../../src/components/analytics/charts/SessionsTrendChart.tsx"],"sourcesContent":["import { AreaChart, Area, XAxis, YAxis, Tooltip, ResponsiveContainer, TooltipProps } from 'recharts';\nimport { NameType, ValueType } from 'recharts/types/component/DefaultTooltipContent';\nimport type { GA4HistoryEntry } from '../types';\n\nfunction CustomTooltip({ active, payload, label }: TooltipProps<ValueType, NameType>) {\n  if (!active || !payload || !payload.length) return null;\n  return (\n    <div className=\"bg-popover text-popover-foreground border border-border rounded-lg px-3 py-2 text-sm shadow-md\">\n      <p className=\"font-medium\">{label}</p>\n      {payload.map((entry, i) => (\n        <p key={i}>\n          {String(entry.name).charAt(0).toUpperCase() + String(entry.name).slice(1)}: {Number(entry.value).toLocaleString()}\n        </p>\n      ))}\n    </div>\n  );\n}\n\ninterface SessionsTrendChartProps {\n  data: GA4HistoryEntry[];\n}\n\nexport function SessionsTrendChart({ data }: SessionsTrendChartProps) {\n  if (data.length === 0) {\n    return (\n      <div className=\"h-64 flex items-center justify-center text-muted-foreground\">\n        No data available\n      </div>\n    );\n  }\n\n  const chartData = data.map((entry) => ({\n    date: new Date(entry.date).toLocaleDateString('en-US', { month: 'short', day: 'numeric' }),\n    sessions: entry.summary.sessions,\n    users: entry.summary.users,\n    pageViews: entry.summary.pageViews,\n  }));\n\n  // Calculate tick interval: show ~5-7 labels max for readability\n  const tickInterval = Math.max(0, Math.ceil(chartData.length / 6) - 1);\n\n  return (\n    <div className=\"h-64 w-full\">\n      <ResponsiveContainer width=\"100%\" height={256}>\n        <AreaChart data={chartData} margin={{ top: 10, right: 10, left: 0, bottom: 0 }}>\n          <defs>\n            <linearGradient id=\"sessionGradient\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\n              <stop offset=\"5%\" stopColor=\"hsl(var(--primary))\" stopOpacity={0.3} />\n              <stop offset=\"95%\" stopColor=\"hsl(var(--primary))\" stopOpacity={0} />\n            </linearGradient>\n          </defs>\n          <XAxis\n            dataKey=\"date\"\n            tick={{ fontSize: 12 }}\n            tickLine={false}\n            axisLine={false}\n            interval={tickInterval}\n            className=\"text-muted-foreground\"\n          />\n          <YAxis\n            tick={{ fontSize: 12 }}\n            tickLine={false}\n            axisLine={false}\n            tickFormatter={(value) => value.toLocaleString()}\n            className=\"text-muted-foreground\"\n          />\n          <Tooltip content={<CustomTooltip />} />\n          <Area\n            type=\"monotone\"\n            dataKey=\"sessions\"\n            stroke=\"hsl(var(--primary))\"\n            fill=\"url(#sessionGradient)\"\n            strokeWidth={2}\n          />\n        </AreaChart>\n      </ResponsiveContainer>\n    </div>\n  );\n}\n"],"names":["CustomTooltip","active","payload","label","jsxs","jsx","entry","i","SessionsTrendChart","data","chartData","tickInterval","ResponsiveContainer","AreaChart","XAxis","YAxis","value","Tooltip","Area"],"mappings":"+mBAIA,SAASA,EAAc,CAAE,OAAAC,EAAQ,QAAAC,EAAS,MAAAC,GAA4C,CACpF,MAAI,CAACF,GAAU,CAACC,GAAW,CAACA,EAAQ,OAAe,KAEjDE,EAAAA,KAAC,MAAA,CAAI,UAAU,iGACb,SAAA,CAAAC,EAAAA,IAAC,IAAA,CAAE,UAAU,cAAe,SAAAF,EAAM,EACjCD,EAAQ,IAAI,CAACI,EAAOC,WAClB,IAAA,CACE,SAAA,CAAA,OAAOD,EAAM,IAAI,EAAE,OAAO,CAAC,EAAE,YAAA,EAAgB,OAAOA,EAAM,IAAI,EAAE,MAAM,CAAC,EAAE,KAAG,OAAOA,EAAM,KAAK,EAAE,eAAA,CAAe,CAAA,EAD1GC,CAER,CACD,CAAA,EACH,CAEJ,CAMO,SAASC,EAAmB,CAAE,KAAAC,GAAiC,CACpE,GAAIA,EAAK,SAAW,EAClB,OACEJ,EAAAA,IAAC,MAAA,CAAI,UAAU,8DAA8D,SAAA,oBAE7E,EAIJ,MAAMK,EAAYD,EAAK,IAAKH,IAAW,CACrC,KAAM,IAAI,KAAKA,EAAM,IAAI,EAAE,mBAAmB,QAAS,CAAE,MAAO,QAAS,IAAK,UAAW,EACzF,SAAUA,EAAM,QAAQ,SACxB,MAAOA,EAAM,QAAQ,MACrB,UAAWA,EAAM,QAAQ,SAAA,EACzB,EAGIK,EAAe,KAAK,IAAI,EAAG,KAAK,KAAKD,EAAU,OAAS,CAAC,EAAI,CAAC,EAEpE,OACEL,EAAAA,IAAC,MAAA,CAAI,UAAU,cACb,SAAAA,EAAAA,IAACO,GAAoB,MAAM,OAAO,OAAQ,IACxC,SAAAR,EAAAA,KAACS,EAAA,CAAU,KAAMH,EAAW,OAAQ,CAAE,IAAK,GAAI,MAAO,GAAI,KAAM,EAAG,OAAQ,CAAA,EACzE,SAAA,CAAAL,EAAAA,IAAC,OAAA,CACC,SAAAD,EAAAA,KAAC,iBAAA,CAAe,GAAG,kBAAkB,GAAG,IAAI,GAAG,IAAI,GAAG,IAAI,GAAG,IAC3D,SAAA,CAAAC,MAAC,QAAK,OAAO,KAAK,UAAU,sBAAsB,YAAa,GAAK,QACnE,OAAA,CAAK,OAAO,MAAM,UAAU,sBAAsB,YAAa,CAAA,CAAG,CAAA,CAAA,CACrE,CAAA,CACF,EACAA,EAAAA,IAACS,EAAA,CACC,QAAQ,OACR,KAAM,CAAE,SAAU,EAAA,EAClB,SAAU,GACV,SAAU,GACV,SAAUH,EACV,UAAU,uBAAA,CAAA,EAEZN,EAAAA,IAACU,EAAA,CACC,KAAM,CAAE,SAAU,EAAA,EAClB,SAAU,GACV,SAAU,GACV,cAAgBC,GAAUA,EAAM,eAAA,EAChC,UAAU,uBAAA,CAAA,EAEZX,EAAAA,IAACY,EAAA,CAAQ,QAASZ,EAAAA,IAACL,IAAc,EAAI,EACrCK,EAAAA,IAACa,EAAA,CACC,KAAK,WACL,QAAQ,WACR,OAAO,sBACP,KAAK,wBACL,YAAa,CAAA,CAAA,CACf,CAAA,CACF,EACF,EACF,CAEJ"}