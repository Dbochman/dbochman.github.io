{"version":3,"file":"BarChart-D5FL-1Qk.js","sources":["../../node_modules/recharts/es6/state/selectors/combiners/combineBarSizeList.js","../../node_modules/recharts/es6/state/selectors/combiners/combineAllBarPositions.js","../../node_modules/recharts/es6/state/selectors/combiners/combineStackedData.js","../../node_modules/recharts/es6/state/selectors/combiners/combineBarPosition.js","../../node_modules/recharts/es6/zIndex/getZIndexFromUnknown.js","../../node_modules/tiny-invariant/dist/esm/tiny-invariant.js","../../node_modules/recharts/es6/util/BarUtils.js","../../node_modules/recharts/es6/state/selectors/barSelectors.js","../../node_modules/recharts/es6/cartesian/BarStack.js","../../node_modules/recharts/es6/cartesian/Bar.js","../../node_modules/recharts/es6/chart/BarChart.js"],"sourcesContent":["import { isStacked } from '../../types/StackedGraphicalItem';\nimport { getPercentValue, isNullish } from '../../../util/DataUtils';\nvar getBarSize = (globalSize, totalSize, selfSize) => {\n  var barSize = selfSize !== null && selfSize !== void 0 ? selfSize : globalSize;\n  if (isNullish(barSize)) {\n    return undefined;\n  }\n  return getPercentValue(barSize, totalSize, 0);\n};\nexport var combineBarSizeList = (allBars, globalSize, totalSize) => {\n  var initialValue = {};\n  var stackedBars = allBars.filter(isStacked);\n  var unstackedBars = allBars.filter(b => b.stackId == null);\n  var groupByStack = stackedBars.reduce((acc, bar) => {\n    var s = acc[bar.stackId];\n    if (s == null) {\n      s = [];\n    }\n    s.push(bar);\n    acc[bar.stackId] = s;\n    return acc;\n  }, initialValue);\n  var stackedSizeList = Object.entries(groupByStack).map(_ref => {\n    var _bars$;\n    var [stackId, bars] = _ref;\n    var dataKeys = bars.map(b => b.dataKey);\n    var barSize = getBarSize(globalSize, totalSize, (_bars$ = bars[0]) === null || _bars$ === void 0 ? void 0 : _bars$.barSize);\n    return {\n      stackId,\n      dataKeys,\n      barSize\n    };\n  });\n  var unstackedSizeList = unstackedBars.map(b => {\n    var dataKeys = [b.dataKey].filter(dk => dk != null);\n    var barSize = getBarSize(globalSize, totalSize, b.barSize);\n    return {\n      stackId: undefined,\n      dataKeys,\n      barSize\n    };\n  });\n  return [...stackedSizeList, ...unstackedSizeList];\n};","function ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nimport { getPercentValue, isNullish } from '../../../util/DataUtils';\nimport { isWellBehavedNumber } from '../../../util/isWellBehavedNumber';\nfunction getBarPositions(barGap, barCategoryGap, bandSize, sizeList, maxBarSize) {\n  var _sizeList$;\n  var len = sizeList.length;\n  if (len < 1) {\n    return undefined;\n  }\n  var realBarGap = getPercentValue(barGap, bandSize, 0, true);\n  var result;\n  var initialValue = [];\n\n  // whether is barSize set by user\n  // Okay but why does it check only for the first element? What if the first element is set but others are not?\n  if (isWellBehavedNumber((_sizeList$ = sizeList[0]) === null || _sizeList$ === void 0 ? void 0 : _sizeList$.barSize)) {\n    var useFull = false;\n    var fullBarSize = bandSize / len;\n    var sum = sizeList.reduce((res, entry) => res + (entry.barSize || 0), 0);\n    sum += (len - 1) * realBarGap;\n    if (sum >= bandSize) {\n      sum -= (len - 1) * realBarGap;\n      realBarGap = 0;\n    }\n    if (sum >= bandSize && fullBarSize > 0) {\n      useFull = true;\n      fullBarSize *= 0.9;\n      sum = len * fullBarSize;\n    }\n    var offset = (bandSize - sum) / 2 >> 0;\n    var prev = {\n      offset: offset - realBarGap,\n      size: 0\n    };\n    result = sizeList.reduce((res, entry) => {\n      var _entry$barSize;\n      var newPosition = {\n        stackId: entry.stackId,\n        dataKeys: entry.dataKeys,\n        position: {\n          offset: prev.offset + prev.size + realBarGap,\n          size: useFull ? fullBarSize : (_entry$barSize = entry.barSize) !== null && _entry$barSize !== void 0 ? _entry$barSize : 0\n        }\n      };\n      var newRes = [...res, newPosition];\n      prev = newPosition.position;\n      return newRes;\n    }, initialValue);\n  } else {\n    var _offset = getPercentValue(barCategoryGap, bandSize, 0, true);\n    if (bandSize - 2 * _offset - (len - 1) * realBarGap <= 0) {\n      realBarGap = 0;\n    }\n    var originalSize = (bandSize - 2 * _offset - (len - 1) * realBarGap) / len;\n    if (originalSize > 1) {\n      originalSize >>= 0;\n    }\n    var size = isWellBehavedNumber(maxBarSize) ? Math.min(originalSize, maxBarSize) : originalSize;\n    result = sizeList.reduce((res, entry, i) => [...res, {\n      stackId: entry.stackId,\n      dataKeys: entry.dataKeys,\n      position: {\n        offset: _offset + (originalSize + realBarGap) * i + (originalSize - size) / 2,\n        size\n      }\n    }], initialValue);\n  }\n  return result;\n}\nexport var combineAllBarPositions = (sizeList, globalMaxBarSize, barGap, barCategoryGap, barBandSize, bandSize, childMaxBarSize) => {\n  var maxBarSize = isNullish(childMaxBarSize) ? globalMaxBarSize : childMaxBarSize;\n  var allBarPositions = getBarPositions(barGap, barCategoryGap, barBandSize !== bandSize ? barBandSize : bandSize, sizeList, maxBarSize);\n  if (barBandSize !== bandSize && allBarPositions != null) {\n    allBarPositions = allBarPositions.map(pos => _objectSpread(_objectSpread({}, pos), {}, {\n      position: _objectSpread(_objectSpread({}, pos.position), {}, {\n        offset: pos.position.offset - barBandSize / 2\n      })\n    }));\n  }\n  return allBarPositions;\n};","import { getStackSeriesIdentifier } from '../../../util/stacks/getStackSeriesIdentifier';\nexport var combineStackedData = (stackGroups, barSettings) => {\n  var stackSeriesIdentifier = getStackSeriesIdentifier(barSettings);\n  if (!stackGroups || stackSeriesIdentifier == null || barSettings == null) {\n    return undefined;\n  }\n  var {\n    stackId\n  } = barSettings;\n  if (stackId == null) {\n    return undefined;\n  }\n  var stackGroup = stackGroups[stackId];\n  if (!stackGroup) {\n    return undefined;\n  }\n  var {\n    stackedData\n  } = stackGroup;\n  if (!stackedData) {\n    return undefined;\n  }\n  return stackedData.find(sd => sd.key === stackSeriesIdentifier);\n};","export var combineBarPosition = (allBarPositions, barSettings) => {\n  if (allBarPositions == null || barSettings == null) {\n    return undefined;\n  }\n  var position = allBarPositions.find(p => p.stackId === barSettings.stackId && barSettings.dataKey != null && p.dataKeys.includes(barSettings.dataKey));\n  if (position == null) {\n    return undefined;\n  }\n  return position.position;\n};","import { isWellBehavedNumber } from '../util/isWellBehavedNumber';\nexport function getZIndexFromUnknown(input, defaultZIndex) {\n  if (input && typeof input === 'object' && 'zIndex' in input && typeof input.zIndex === 'number' && isWellBehavedNumber(input.zIndex)) {\n    return input.zIndex;\n  }\n  return defaultZIndex;\n}","var isProduction = process.env.NODE_ENV === 'production';\nvar prefix = 'Invariant failed';\nfunction invariant(condition, message) {\n    if (condition) {\n        return;\n    }\n    if (isProduction) {\n        throw new Error(prefix);\n    }\n    var provided = typeof message === 'function' ? message() : message;\n    var value = provided ? \"\".concat(prefix, \": \").concat(provided) : prefix;\n    throw new Error(value);\n}\n\nexport { invariant as default };\n","function _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport * as React from 'react';\nimport invariant from 'tiny-invariant';\nimport { Shape } from './ActiveShapeUtils';\nimport { isNullish, isNumber } from './DataUtils';\nexport function BarRectangle(props) {\n  return /*#__PURE__*/React.createElement(Shape, _extends({\n    shapeType: \"rectangle\",\n    activeClassName: \"recharts-active-bar\"\n  }, props));\n}\n/**\n * Safely gets minPointSize from the minPointSize prop if it is a function\n * @param minPointSize minPointSize as passed to the Bar component\n * @param defaultValue default minPointSize\n * @returns minPointSize\n */\nexport var minPointSizeCallback = function minPointSizeCallback(minPointSize) {\n  var defaultValue = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  return (value, index) => {\n    if (isNumber(minPointSize)) return minPointSize;\n    var isValueNumberOrNil = isNumber(value) || isNullish(value);\n    if (isValueNumberOrNil) {\n      return minPointSize(value, index);\n    }\n    !isValueNumberOrNil ? true ? invariant(false, \"minPointSize callback function received a value with type of \".concat(typeof value, \". Currently only numbers or null/undefined are supported.\")) : invariant(false) : void 0;\n    return defaultValue;\n  };\n};","import { createSelector } from 'reselect';\nimport { selectAxisWithScale, selectCartesianAxisSize, selectStackGroups, selectTicksOfGraphicalItem, selectUnfilteredCartesianItems } from './axisSelectors';\nimport { isNullish } from '../../util/DataUtils';\nimport { getBandSizeOfAxis } from '../../util/ChartUtils';\nimport { computeBarRectangles } from '../../cartesian/Bar';\nimport { selectChartLayout } from '../../context/chartLayoutContext';\nimport { selectChartDataWithIndexesIfNotInPanoramaPosition3 } from './dataSelectors';\nimport { selectAxisViewBox, selectChartOffsetInternal } from './selectChartOffsetInternal';\nimport { selectBarCategoryGap, selectBarGap, selectRootBarSize, selectRootMaxBarSize } from './rootPropsSelectors';\nimport { combineBarSizeList } from './combiners/combineBarSizeList';\nimport { combineAllBarPositions } from './combiners/combineAllBarPositions';\nimport { combineStackedData } from './combiners/combineStackedData';\nimport { selectXAxisIdFromGraphicalItemId, selectYAxisIdFromGraphicalItemId } from './graphicalItemSelectors';\nimport { combineBarPosition } from './combiners/combineBarPosition';\nvar pickIsPanorama = (_state, _id, isPanorama) => isPanorama;\nvar pickBarId = (_state, id) => id;\nvar selectSynchronisedBarSettings = createSelector([selectUnfilteredCartesianItems, pickBarId], (graphicalItems, id) => graphicalItems.filter(item => item.type === 'bar').find(item => item.id === id));\nexport var selectMaxBarSize = createSelector([selectSynchronisedBarSettings], barSettings => barSettings === null || barSettings === void 0 ? void 0 : barSettings.maxBarSize);\nvar pickCells = (_state, _id, _isPanorama, cells) => cells;\nexport var selectAllVisibleBars = createSelector([selectChartLayout, selectUnfilteredCartesianItems, selectXAxisIdFromGraphicalItemId, selectYAxisIdFromGraphicalItemId, pickIsPanorama], (layout, allItems, xAxisId, yAxisId, isPanorama) => allItems.filter(i => {\n  if (layout === 'horizontal') {\n    return i.xAxisId === xAxisId;\n  }\n  return i.yAxisId === yAxisId;\n}).filter(i => i.isPanorama === isPanorama).filter(i => i.hide === false).filter(i => i.type === 'bar'));\nvar selectBarStackGroups = (state, id, isPanorama) => {\n  var layout = selectChartLayout(state);\n  var xAxisId = selectXAxisIdFromGraphicalItemId(state, id);\n  var yAxisId = selectYAxisIdFromGraphicalItemId(state, id);\n  if (xAxisId == null || yAxisId == null) {\n    return undefined;\n  }\n  if (layout === 'horizontal') {\n    return selectStackGroups(state, 'yAxis', yAxisId, isPanorama);\n  }\n  return selectStackGroups(state, 'xAxis', xAxisId, isPanorama);\n};\nexport var selectBarCartesianAxisSize = (state, id) => {\n  var layout = selectChartLayout(state);\n  var xAxisId = selectXAxisIdFromGraphicalItemId(state, id);\n  var yAxisId = selectYAxisIdFromGraphicalItemId(state, id);\n  if (xAxisId == null || yAxisId == null) {\n    return undefined;\n  }\n  if (layout === 'horizontal') {\n    return selectCartesianAxisSize(state, 'xAxis', xAxisId);\n  }\n  return selectCartesianAxisSize(state, 'yAxis', yAxisId);\n};\nexport var selectBarSizeList = createSelector([selectAllVisibleBars, selectRootBarSize, selectBarCartesianAxisSize], combineBarSizeList);\nexport var selectBarBandSize = (state, id, isPanorama) => {\n  var _ref, _getBandSizeOfAxis;\n  var barSettings = selectSynchronisedBarSettings(state, id);\n  if (barSettings == null) {\n    return 0;\n  }\n  var xAxisId = selectXAxisIdFromGraphicalItemId(state, id);\n  var yAxisId = selectYAxisIdFromGraphicalItemId(state, id);\n  if (xAxisId == null || yAxisId == null) {\n    return 0;\n  }\n  var layout = selectChartLayout(state);\n  var globalMaxBarSize = selectRootMaxBarSize(state);\n  var {\n    maxBarSize: childMaxBarSize\n  } = barSettings;\n  var maxBarSize = isNullish(childMaxBarSize) ? globalMaxBarSize : childMaxBarSize;\n  var axis, ticks;\n  if (layout === 'horizontal') {\n    axis = selectAxisWithScale(state, 'xAxis', xAxisId, isPanorama);\n    ticks = selectTicksOfGraphicalItem(state, 'xAxis', xAxisId, isPanorama);\n  } else {\n    axis = selectAxisWithScale(state, 'yAxis', yAxisId, isPanorama);\n    ticks = selectTicksOfGraphicalItem(state, 'yAxis', yAxisId, isPanorama);\n  }\n  return (_ref = (_getBandSizeOfAxis = getBandSizeOfAxis(axis, ticks, true)) !== null && _getBandSizeOfAxis !== void 0 ? _getBandSizeOfAxis : maxBarSize) !== null && _ref !== void 0 ? _ref : 0;\n};\nexport var selectAxisBandSize = (state, id, isPanorama) => {\n  var layout = selectChartLayout(state);\n  var xAxisId = selectXAxisIdFromGraphicalItemId(state, id);\n  var yAxisId = selectYAxisIdFromGraphicalItemId(state, id);\n  if (xAxisId == null || yAxisId == null) {\n    return undefined;\n  }\n  var axis, ticks;\n  if (layout === 'horizontal') {\n    axis = selectAxisWithScale(state, 'xAxis', xAxisId, isPanorama);\n    ticks = selectTicksOfGraphicalItem(state, 'xAxis', xAxisId, isPanorama);\n  } else {\n    axis = selectAxisWithScale(state, 'yAxis', yAxisId, isPanorama);\n    ticks = selectTicksOfGraphicalItem(state, 'yAxis', yAxisId, isPanorama);\n  }\n  return getBandSizeOfAxis(axis, ticks);\n};\nexport var selectAllBarPositions = createSelector([selectBarSizeList, selectRootMaxBarSize, selectBarGap, selectBarCategoryGap, selectBarBandSize, selectAxisBandSize, selectMaxBarSize], combineAllBarPositions);\nvar selectXAxisWithScale = (state, id, isPanorama) => {\n  var xAxisId = selectXAxisIdFromGraphicalItemId(state, id);\n  if (xAxisId == null) {\n    return undefined;\n  }\n  return selectAxisWithScale(state, 'xAxis', xAxisId, isPanorama);\n};\nvar selectYAxisWithScale = (state, id, isPanorama) => {\n  var yAxisId = selectYAxisIdFromGraphicalItemId(state, id);\n  if (yAxisId == null) {\n    return undefined;\n  }\n  return selectAxisWithScale(state, 'yAxis', yAxisId, isPanorama);\n};\nvar selectXAxisTicks = (state, id, isPanorama) => {\n  var xAxisId = selectXAxisIdFromGraphicalItemId(state, id);\n  if (xAxisId == null) {\n    return undefined;\n  }\n  return selectTicksOfGraphicalItem(state, 'xAxis', xAxisId, isPanorama);\n};\nvar selectYAxisTicks = (state, id, isPanorama) => {\n  var yAxisId = selectYAxisIdFromGraphicalItemId(state, id);\n  if (yAxisId == null) {\n    return undefined;\n  }\n  return selectTicksOfGraphicalItem(state, 'yAxis', yAxisId, isPanorama);\n};\nexport var selectBarPosition = createSelector([selectAllBarPositions, selectSynchronisedBarSettings], combineBarPosition);\nexport var selectStackedDataOfItem = createSelector([selectBarStackGroups, selectSynchronisedBarSettings], combineStackedData);\nexport var selectBarRectangles = createSelector([selectChartOffsetInternal, selectAxisViewBox, selectXAxisWithScale, selectYAxisWithScale, selectXAxisTicks, selectYAxisTicks, selectBarPosition, selectChartLayout, selectChartDataWithIndexesIfNotInPanoramaPosition3, selectAxisBandSize, selectStackedDataOfItem, selectSynchronisedBarSettings, pickCells], (offset, axisViewBox, xAxis, yAxis, xAxisTicks, yAxisTicks, pos, layout, _ref2, bandSize, stackedData, barSettings, cells) => {\n  var {\n    chartData,\n    dataStartIndex,\n    dataEndIndex\n  } = _ref2;\n  if (barSettings == null || pos == null || axisViewBox == null || layout !== 'horizontal' && layout !== 'vertical' || xAxis == null || yAxis == null || xAxisTicks == null || yAxisTicks == null || bandSize == null) {\n    return undefined;\n  }\n  var {\n    data\n  } = barSettings;\n  var displayedData;\n  if (data != null && data.length > 0) {\n    displayedData = data;\n  } else {\n    displayedData = chartData === null || chartData === void 0 ? void 0 : chartData.slice(dataStartIndex, dataEndIndex + 1);\n  }\n  if (displayedData == null) {\n    return undefined;\n  }\n  return computeBarRectangles({\n    layout,\n    barSettings,\n    pos,\n    parentViewBox: axisViewBox,\n    bandSize,\n    xAxis,\n    yAxis,\n    xAxisTicks,\n    yAxisTicks,\n    stackedData,\n    displayedData,\n    offset,\n    cells,\n    dataStartIndex\n  });\n});","var _excluded = [\"index\"];\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nfunction _objectWithoutProperties(e, t) { if (null == e) return {}; var o, r, i = _objectWithoutPropertiesLoose(e, t); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(e); for (r = 0; r < n.length; r++) o = n[r], -1 === t.indexOf(o) && {}.propertyIsEnumerable.call(e, o) && (i[o] = e[o]); } return i; }\nfunction _objectWithoutPropertiesLoose(r, e) { if (null == r) return {}; var t = {}; for (var n in r) if ({}.hasOwnProperty.call(r, n)) { if (-1 !== e.indexOf(n)) continue; t[n] = r[n]; } return t; }\nimport * as React from 'react';\nimport { createContext, useContext, useMemo } from 'react';\nimport { getNormalizedStackId } from '../util/ChartUtils';\nimport { useUniqueId } from '../util/useUniqueId';\nimport { resolveDefaultProps } from '../util/resolveDefaultProps';\nimport { useAppSelector } from '../state/hooks';\nimport { selectStackRects } from '../state/selectors/barStackSelectors';\nimport { useIsPanorama } from '../context/PanoramaContext';\nimport { Layer } from '../container/Layer';\nimport { Rectangle } from '../shape/Rectangle';\nimport { propsAreEqual } from '../util/propsAreEqual';\nvar BarStackContext = /*#__PURE__*/createContext(undefined);\n\n/**\n * Hook to resolve the stack ID for a Bar component.\n * If a stack ID is provided via props, it is used directly.\n * Otherwise, this will read stack ID from BarStack context if available.\n * If both are undefined, it returns undefined.\n * @param childStackId\n */\nexport var useStackId = childStackId => {\n  var stackSettings = useContext(BarStackContext);\n  if (stackSettings != null) {\n    return stackSettings.stackId;\n  }\n  if (childStackId == null) {\n    return undefined;\n  }\n  return getNormalizedStackId(childStackId);\n};\nexport var defaultBarStackProps = {\n  radius: 0\n};\nvar getClipPathId = (stackId, index) => {\n  return \"recharts-bar-stack-clip-path-\".concat(stackId, \"-\").concat(index);\n};\nexport var useBarStackClipPathUrl = index => {\n  var barStackContext = useContext(BarStackContext);\n  if (barStackContext == null) {\n    return undefined;\n  }\n  var {\n    stackId\n  } = barStackContext;\n  return \"url(#\".concat(getClipPathId(stackId, index), \")\");\n};\nexport var BarStackClipLayer = _ref => {\n  var {\n      index\n    } = _ref,\n    rest = _objectWithoutProperties(_ref, _excluded);\n  var clipPathUrl = useBarStackClipPathUrl(index);\n  return /*#__PURE__*/React.createElement(Layer, _extends({\n    className: \"recharts-bar-stack-layer\",\n    clipPath: clipPathUrl\n  }, rest));\n};\n\n/**\n * This React component will render a clipPath that the individual bars in the stack will reference\n * to achieve rounded corners for the entire stack.\n */\nvar BarStackClipPath = _ref2 => {\n  var {\n    stackId,\n    radius\n  } = _ref2;\n  var isPanorama = useIsPanorama();\n  var positions = useAppSelector(state => selectStackRects(state, stackId, isPanorama));\n  if (positions == null || positions.length === 0) {\n    return null;\n  }\n  /*\n   * Render one clipPath per rectangle in the stack.\n   * Each rectangle corresponds to one data entry in the chart.\n   */\n  return /*#__PURE__*/React.createElement(\"defs\", null, positions.map((pos, index) => {\n    if (pos == null) {\n      return null;\n    }\n    var clipPathId = getClipPathId(stackId, index);\n    return /*#__PURE__*/React.createElement(\"clipPath\", {\n      key: clipPathId,\n      id: clipPathId\n    }, /*#__PURE__*/React.createElement(Rectangle, {\n      isAnimationActive: false,\n      isUpdateAnimationActive: false,\n      x: pos.x,\n      y: pos.y,\n      width: pos.width,\n      height: pos.height,\n      radius: radius\n    }));\n  }));\n};\nvar BarStackImpl = props => {\n  var resolvedStackId = useUniqueId('recharts-bar-stack', getNormalizedStackId(props.stackId));\n  var {\n    children,\n    radius\n  } = resolveDefaultProps(props, defaultBarStackProps);\n  var context = useMemo(() => ({\n    stackId: resolvedStackId,\n    radius\n  }), [resolvedStackId, radius]);\n  return /*#__PURE__*/React.createElement(BarStackContext.Provider, {\n    value: context\n  }, /*#__PURE__*/React.createElement(BarStackClipPath, {\n    stackId: resolvedStackId,\n    radius: radius\n  }), children);\n};\n\n/**\n * @provides BarStackContext\n * @since 3.6\n */\nexport var BarStack = /*#__PURE__*/React.memo(BarStackImpl, propsAreEqual);","var _excluded = [\"onMouseEnter\", \"onMouseLeave\", \"onClick\"],\n  _excluded2 = [\"value\", \"background\", \"tooltipPosition\"],\n  _excluded3 = [\"id\"],\n  _excluded4 = [\"onMouseEnter\", \"onClick\", \"onMouseLeave\"];\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _objectWithoutProperties(e, t) { if (null == e) return {}; var o, r, i = _objectWithoutPropertiesLoose(e, t); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(e); for (r = 0; r < n.length; r++) o = n[r], -1 === t.indexOf(o) && {}.propertyIsEnumerable.call(e, o) && (i[o] = e[o]); } return i; }\nfunction _objectWithoutPropertiesLoose(r, e) { if (null == r) return {}; var t = {}; for (var n in r) if ({}.hasOwnProperty.call(r, n)) { if (-1 !== e.indexOf(n)) continue; t[n] = r[n]; } return t; }\nimport * as React from 'react';\nimport { PureComponent, useCallback, useRef, useState } from 'react';\nimport { clsx } from 'clsx';\nimport { Layer } from '../container/Layer';\nimport { Cell } from '../component/Cell';\nimport { CartesianLabelListContextProvider, LabelListFromLabelProp } from '../component/LabelList';\nimport { interpolate, isNan, mathSign, noop } from '../util/DataUtils';\nimport { findAllByType } from '../util/ReactUtils';\nimport { getBaseValueOfBar, getCateCoordinateOfBar, getTooltipNameProp, getValueByDataKey, truncateByDomain } from '../util/ChartUtils';\nimport { adaptEventsOfChild } from '../util/types';\nimport { BarRectangle, minPointSizeCallback } from '../util/BarUtils';\nimport { useMouseClickItemDispatch, useMouseEnterItemDispatch, useMouseLeaveItemDispatch } from '../context/tooltipContext';\nimport { SetTooltipEntrySettings } from '../state/SetTooltipEntrySettings';\nimport { SetErrorBarContext } from '../context/ErrorBarContext';\nimport { GraphicalItemClipPath, useNeedsClip } from './GraphicalItemClipPath';\nimport { useChartLayout } from '../context/chartLayoutContext';\nimport { selectBarRectangles } from '../state/selectors/barSelectors';\nimport { useAppSelector } from '../state/hooks';\nimport { useIsPanorama } from '../context/PanoramaContext';\nimport { selectActiveTooltipDataKey, selectActiveTooltipIndex } from '../state/selectors/tooltipSelectors';\nimport { SetLegendPayload } from '../state/SetLegendPayload';\nimport { useAnimationId } from '../util/useAnimationId';\nimport { resolveDefaultProps } from '../util/resolveDefaultProps';\nimport { RegisterGraphicalItemId } from '../context/RegisterGraphicalItemId';\nimport { SetCartesianGraphicalItem } from '../state/SetGraphicalItem';\nimport { svgPropertiesNoEvents, svgPropertiesNoEventsFromUnknown } from '../util/svgPropertiesNoEvents';\nimport { JavascriptAnimate } from '../animation/JavascriptAnimate';\nimport { ZIndexLayer } from '../zIndex/ZIndexLayer';\nimport { DefaultZIndexes } from '../zIndex/DefaultZIndexes';\nimport { getZIndexFromUnknown } from '../zIndex/getZIndexFromUnknown';\nimport { propsAreEqual } from '../util/propsAreEqual';\nimport { BarStackClipLayer, useStackId } from './BarStack';\nvar computeLegendPayloadFromBarData = props => {\n  var {\n    dataKey,\n    name,\n    fill,\n    legendType,\n    hide\n  } = props;\n  return [{\n    inactive: hide,\n    dataKey,\n    type: legendType,\n    color: fill,\n    value: getTooltipNameProp(name, dataKey),\n    payload: props\n  }];\n};\nvar SetBarTooltipEntrySettings = /*#__PURE__*/React.memo(_ref => {\n  var {\n    dataKey,\n    stroke,\n    strokeWidth,\n    fill,\n    name,\n    hide,\n    unit,\n    tooltipType,\n    id\n  } = _ref;\n  var tooltipEntrySettings = {\n    dataDefinedOnItem: undefined,\n    getPosition: noop,\n    settings: {\n      stroke,\n      strokeWidth,\n      fill,\n      dataKey,\n      nameKey: undefined,\n      name: getTooltipNameProp(name, dataKey),\n      hide,\n      type: tooltipType,\n      color: fill,\n      unit,\n      graphicalItemId: id\n    }\n  };\n  return /*#__PURE__*/React.createElement(SetTooltipEntrySettings, {\n    tooltipEntrySettings: tooltipEntrySettings\n  });\n});\nfunction BarBackground(props) {\n  var activeIndex = useAppSelector(selectActiveTooltipIndex);\n  var {\n    data,\n    dataKey,\n    background: backgroundFromProps,\n    allOtherBarProps\n  } = props;\n  var {\n      onMouseEnter: onMouseEnterFromProps,\n      onMouseLeave: onMouseLeaveFromProps,\n      onClick: onItemClickFromProps\n    } = allOtherBarProps,\n    restOfAllOtherProps = _objectWithoutProperties(allOtherBarProps, _excluded);\n\n  // @ts-expect-error bar mouse events are not compatible with recharts mouse events\n  var onMouseEnterFromContext = useMouseEnterItemDispatch(onMouseEnterFromProps, dataKey, allOtherBarProps.id);\n  // @ts-expect-error bar mouse events are not compatible with recharts mouse events\n  var onMouseLeaveFromContext = useMouseLeaveItemDispatch(onMouseLeaveFromProps);\n  // @ts-expect-error bar mouse events are not compatible with recharts mouse events\n  var onClickFromContext = useMouseClickItemDispatch(onItemClickFromProps, dataKey, allOtherBarProps.id);\n  if (!backgroundFromProps || data == null) {\n    return null;\n  }\n  var backgroundProps = svgPropertiesNoEventsFromUnknown(backgroundFromProps);\n  return /*#__PURE__*/React.createElement(ZIndexLayer, {\n    zIndex: getZIndexFromUnknown(backgroundFromProps, DefaultZIndexes.barBackground)\n  }, data.map((entry, i) => {\n    var {\n        value,\n        background: backgroundFromDataEntry,\n        tooltipPosition\n      } = entry,\n      rest = _objectWithoutProperties(entry, _excluded2);\n    if (!backgroundFromDataEntry) {\n      return null;\n    }\n\n    // @ts-expect-error BarRectangleItem type definition says it's missing properties, but I can see them present in debugger!\n    var onMouseEnter = onMouseEnterFromContext(entry, i);\n    // @ts-expect-error BarRectangleItem type definition says it's missing properties, but I can see them present in debugger!\n    var onMouseLeave = onMouseLeaveFromContext(entry, i);\n    // @ts-expect-error BarRectangleItem type definition says it's missing properties, but I can see them present in debugger!\n    var onClick = onClickFromContext(entry, i);\n    var barRectangleProps = _objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread({\n      option: backgroundFromProps,\n      isActive: String(i) === activeIndex\n    }, rest), {}, {\n      // @ts-expect-error backgroundProps is contributing unknown props\n      fill: '#eee'\n    }, backgroundFromDataEntry), backgroundProps), adaptEventsOfChild(restOfAllOtherProps, entry, i)), {}, {\n      onMouseEnter,\n      onMouseLeave,\n      onClick,\n      dataKey,\n      index: i,\n      className: 'recharts-bar-background-rectangle'\n    });\n    return /*#__PURE__*/React.createElement(BarRectangle, _extends({\n      key: \"background-bar-\".concat(i)\n    }, barRectangleProps));\n  }));\n}\nfunction BarLabelListProvider(_ref2) {\n  var {\n    showLabels,\n    children,\n    rects\n  } = _ref2;\n  var labelListEntries = rects === null || rects === void 0 ? void 0 : rects.map(entry => {\n    var viewBox = {\n      x: entry.x,\n      y: entry.y,\n      width: entry.width,\n      lowerWidth: entry.width,\n      upperWidth: entry.width,\n      height: entry.height\n    };\n    return _objectSpread(_objectSpread({}, viewBox), {}, {\n      value: entry.value,\n      payload: entry.payload,\n      parentViewBox: entry.parentViewBox,\n      viewBox,\n      fill: entry.fill\n    });\n  });\n  return /*#__PURE__*/React.createElement(CartesianLabelListContextProvider, {\n    value: showLabels ? labelListEntries : undefined\n  }, children);\n}\nfunction BarRectangleWithActiveState(props) {\n  var {\n    shape,\n    activeBar,\n    baseProps,\n    entry,\n    index,\n    dataKey\n  } = props;\n  var activeIndex = useAppSelector(selectActiveTooltipIndex);\n  var activeDataKey = useAppSelector(selectActiveTooltipDataKey);\n  /*\n   * Bars support stacking, meaning that there can be multiple bars at the same x value.\n   * With Tooltip shared=false we only want to highlight the currently active Bar, not all.\n   *\n   * Also, if the tooltip is shared, we want to highlight all bars at the same x value\n   * regardless of the dataKey.\n   *\n   * With shared Tooltip, the activeDataKey is undefined.\n   */\n  var isActive = activeBar && String(index) === activeIndex && (activeDataKey == null || dataKey === activeDataKey);\n  var option = isActive ? activeBar : shape;\n  if (isActive) {\n    return /*#__PURE__*/React.createElement(ZIndexLayer, {\n      zIndex: DefaultZIndexes.activeBar\n    }, /*#__PURE__*/React.createElement(BarStackClipLayer, {\n      index: index\n    }, /*#__PURE__*/React.createElement(BarRectangle, _extends({}, baseProps, {\n      name: String(baseProps.name)\n    }, entry, {\n      isActive: isActive,\n      option: option,\n      index: index,\n      dataKey: dataKey\n    }))));\n  }\n  return /*#__PURE__*/React.createElement(BarRectangle, _extends({}, baseProps, {\n    name: String(baseProps.name)\n  }, entry, {\n    isActive: isActive,\n    option: option,\n    index: index,\n    dataKey: dataKey\n  }));\n}\nfunction BarRectangleNeverActive(props) {\n  var {\n    shape,\n    baseProps,\n    entry,\n    index,\n    dataKey\n  } = props;\n  return /*#__PURE__*/React.createElement(BarRectangle, _extends({}, baseProps, {\n    name: String(baseProps.name)\n  }, entry, {\n    isActive: false,\n    option: shape,\n    index: index,\n    dataKey: dataKey\n  }));\n}\nfunction BarRectangles(_ref3) {\n  var _svgPropertiesNoEvent;\n  var {\n    data,\n    props\n  } = _ref3;\n  var _ref4 = (_svgPropertiesNoEvent = svgPropertiesNoEvents(props)) !== null && _svgPropertiesNoEvent !== void 0 ? _svgPropertiesNoEvent : {},\n    {\n      id\n    } = _ref4,\n    baseProps = _objectWithoutProperties(_ref4, _excluded3);\n  var {\n    shape,\n    dataKey,\n    activeBar\n  } = props;\n  var {\n      onMouseEnter: onMouseEnterFromProps,\n      onClick: onItemClickFromProps,\n      onMouseLeave: onMouseLeaveFromProps\n    } = props,\n    restOfAllOtherProps = _objectWithoutProperties(props, _excluded4);\n\n  // @ts-expect-error bar mouse events are not compatible with recharts mouse events\n  var onMouseEnterFromContext = useMouseEnterItemDispatch(onMouseEnterFromProps, dataKey, id);\n  // @ts-expect-error bar mouse events are not compatible with recharts mouse events\n  var onMouseLeaveFromContext = useMouseLeaveItemDispatch(onMouseLeaveFromProps);\n  // @ts-expect-error bar mouse events are not compatible with recharts mouse events\n  var onClickFromContext = useMouseClickItemDispatch(onItemClickFromProps, dataKey, id);\n  if (!data) {\n    return null;\n  }\n  return /*#__PURE__*/React.createElement(React.Fragment, null, data.map((entry, i) => {\n    return /*#__PURE__*/React.createElement(BarStackClipLayer, _extends({\n      index: i\n      // https://github.com/recharts/recharts/issues/5415\n      ,\n      key: \"rectangle-\".concat(entry === null || entry === void 0 ? void 0 : entry.x, \"-\").concat(entry === null || entry === void 0 ? void 0 : entry.y, \"-\").concat(entry === null || entry === void 0 ? void 0 : entry.value, \"-\").concat(i),\n      className: \"recharts-bar-rectangle\"\n    }, adaptEventsOfChild(restOfAllOtherProps, entry, i), {\n      // @ts-expect-error BarRectangleItem type definition says it's missing properties, but I can see them present in debugger!\n      onMouseEnter: onMouseEnterFromContext(entry, i)\n      // @ts-expect-error BarRectangleItem type definition says it's missing properties, but I can see them present in debugger!\n      ,\n      onMouseLeave: onMouseLeaveFromContext(entry, i)\n      // @ts-expect-error BarRectangleItem type definition says it's missing properties, but I can see them present in debugger!\n      ,\n      onClick: onClickFromContext(entry, i)\n    }), activeBar ? /*#__PURE__*/React.createElement(BarRectangleWithActiveState, {\n      shape: shape,\n      activeBar: activeBar,\n      baseProps: baseProps,\n      entry: entry,\n      index: i,\n      dataKey: dataKey\n    }) :\n    /*#__PURE__*/\n    /*\n     * If the `activeBar` prop is falsy, then let's call the variant without hooks.\n     * Using the `selectActiveTooltipIndex` selector is usually fast\n     * but in charts with large-ish amount of data even the few nanoseconds add up to a noticeable jank.\n     * If the activeBar is false then we don't need to know which index is active - because we won't use it anyway.\n     * So let's just skip the hooks altogether. That way, React can skip rendering the component,\n     * and can skip the tree reconciliation for its children too.\n     * Because we can't call hooks conditionally, we need to have a separate component for that.\n     */\n    React.createElement(BarRectangleNeverActive, {\n      shape: shape,\n      baseProps: baseProps,\n      entry: entry,\n      index: i,\n      dataKey: dataKey\n    }));\n  }));\n}\nfunction RectanglesWithAnimation(_ref5) {\n  var {\n    props,\n    previousRectanglesRef\n  } = _ref5;\n  var {\n    data,\n    layout,\n    isAnimationActive,\n    animationBegin,\n    animationDuration,\n    animationEasing,\n    onAnimationEnd,\n    onAnimationStart\n  } = props;\n  var prevData = previousRectanglesRef.current;\n  var animationId = useAnimationId(props, 'recharts-bar-');\n  var [isAnimating, setIsAnimating] = useState(false);\n  var showLabels = !isAnimating;\n  var handleAnimationEnd = useCallback(() => {\n    if (typeof onAnimationEnd === 'function') {\n      onAnimationEnd();\n    }\n    setIsAnimating(false);\n  }, [onAnimationEnd]);\n  var handleAnimationStart = useCallback(() => {\n    if (typeof onAnimationStart === 'function') {\n      onAnimationStart();\n    }\n    setIsAnimating(true);\n  }, [onAnimationStart]);\n  return /*#__PURE__*/React.createElement(BarLabelListProvider, {\n    showLabels: showLabels,\n    rects: data\n  }, /*#__PURE__*/React.createElement(JavascriptAnimate, {\n    animationId: animationId,\n    begin: animationBegin,\n    duration: animationDuration,\n    isActive: isAnimationActive,\n    easing: animationEasing,\n    onAnimationEnd: handleAnimationEnd,\n    onAnimationStart: handleAnimationStart,\n    key: animationId\n  }, t => {\n    var stepData = t === 1 ? data : data === null || data === void 0 ? void 0 : data.map((entry, index) => {\n      var prev = prevData && prevData[index];\n      if (prev) {\n        return _objectSpread(_objectSpread({}, entry), {}, {\n          x: interpolate(prev.x, entry.x, t),\n          y: interpolate(prev.y, entry.y, t),\n          width: interpolate(prev.width, entry.width, t),\n          height: interpolate(prev.height, entry.height, t)\n        });\n      }\n      if (layout === 'horizontal') {\n        var height = interpolate(0, entry.height, t);\n        var y = interpolate(entry.stackedBarStart, entry.y, t);\n        return _objectSpread(_objectSpread({}, entry), {}, {\n          y,\n          height\n        });\n      }\n      var w = interpolate(0, entry.width, t);\n      var x = interpolate(entry.stackedBarStart, entry.x, t);\n      return _objectSpread(_objectSpread({}, entry), {}, {\n        width: w,\n        x\n      });\n    });\n    if (t > 0) {\n      // eslint-disable-next-line no-param-reassign\n      previousRectanglesRef.current = stepData !== null && stepData !== void 0 ? stepData : null;\n    }\n    if (stepData == null) {\n      return null;\n    }\n    return /*#__PURE__*/React.createElement(Layer, null, /*#__PURE__*/React.createElement(BarRectangles, {\n      props: props,\n      data: stepData\n    }));\n  }), /*#__PURE__*/React.createElement(LabelListFromLabelProp, {\n    label: props.label\n  }), props.children);\n}\nfunction RenderRectangles(props) {\n  var previousRectanglesRef = useRef(null);\n  return /*#__PURE__*/React.createElement(RectanglesWithAnimation, {\n    previousRectanglesRef: previousRectanglesRef,\n    props: props\n  });\n}\nvar defaultMinPointSize = 0;\nvar errorBarDataPointFormatter = (dataPoint, dataKey) => {\n  /**\n   * if the value coming from `selectBarRectangles` is an array then this is a stacked bar chart.\n   * arr[1] represents end value of the bar since the data is in the form of [startValue, endValue].\n   * */\n  var value = Array.isArray(dataPoint.value) ? dataPoint.value[1] : dataPoint.value;\n  return {\n    x: dataPoint.x,\n    y: dataPoint.y,\n    value,\n    // @ts-expect-error getValueByDataKey does not validate the output type\n    errorVal: getValueByDataKey(dataPoint, dataKey)\n  };\n};\nclass BarWithState extends PureComponent {\n  render() {\n    var {\n      hide,\n      data,\n      dataKey,\n      className,\n      xAxisId,\n      yAxisId,\n      needClip,\n      background,\n      id\n    } = this.props;\n    if (hide || data == null) {\n      return null;\n    }\n    var layerClass = clsx('recharts-bar', className);\n    var clipPathId = id;\n    return /*#__PURE__*/React.createElement(Layer, {\n      className: layerClass,\n      id: id\n    }, needClip && /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(GraphicalItemClipPath, {\n      clipPathId: clipPathId,\n      xAxisId: xAxisId,\n      yAxisId: yAxisId\n    })), /*#__PURE__*/React.createElement(Layer, {\n      className: \"recharts-bar-rectangles\",\n      clipPath: needClip ? \"url(#clipPath-\".concat(clipPathId, \")\") : undefined\n    }, /*#__PURE__*/React.createElement(BarBackground, {\n      data: data,\n      dataKey: dataKey,\n      background: background,\n      allOtherBarProps: this.props\n    }), /*#__PURE__*/React.createElement(RenderRectangles, this.props)));\n  }\n}\nexport var defaultBarProps = {\n  activeBar: false,\n  animationBegin: 0,\n  animationDuration: 400,\n  animationEasing: 'ease',\n  background: false,\n  hide: false,\n  isAnimationActive: 'auto',\n  label: false,\n  legendType: 'rect',\n  minPointSize: defaultMinPointSize,\n  xAxisId: 0,\n  yAxisId: 0,\n  zIndex: DefaultZIndexes.bar\n};\nfunction BarImpl(props) {\n  var {\n    xAxisId,\n    yAxisId,\n    hide,\n    legendType,\n    minPointSize,\n    activeBar,\n    animationBegin,\n    animationDuration,\n    animationEasing,\n    isAnimationActive\n  } = props;\n  var {\n    needClip\n  } = useNeedsClip(xAxisId, yAxisId);\n  var layout = useChartLayout();\n  var isPanorama = useIsPanorama();\n  var cells = findAllByType(props.children, Cell);\n  var rects = useAppSelector(state => selectBarRectangles(state, props.id, isPanorama, cells));\n  if (layout !== 'vertical' && layout !== 'horizontal') {\n    return null;\n  }\n  var errorBarOffset;\n  var firstDataPoint = rects === null || rects === void 0 ? void 0 : rects[0];\n  if (firstDataPoint == null || firstDataPoint.height == null || firstDataPoint.width == null) {\n    errorBarOffset = 0;\n  } else {\n    errorBarOffset = layout === 'vertical' ? firstDataPoint.height / 2 : firstDataPoint.width / 2;\n  }\n  return /*#__PURE__*/React.createElement(SetErrorBarContext, {\n    xAxisId: xAxisId,\n    yAxisId: yAxisId,\n    data: rects,\n    dataPointFormatter: errorBarDataPointFormatter,\n    errorBarOffset: errorBarOffset\n  }, /*#__PURE__*/React.createElement(BarWithState, _extends({}, props, {\n    layout: layout,\n    needClip: needClip,\n    data: rects,\n    xAxisId: xAxisId,\n    yAxisId: yAxisId,\n    hide: hide,\n    legendType: legendType,\n    minPointSize: minPointSize,\n    activeBar: activeBar,\n    animationBegin: animationBegin,\n    animationDuration: animationDuration,\n    animationEasing: animationEasing,\n    isAnimationActive: isAnimationActive\n  })));\n}\nexport function computeBarRectangles(_ref6) {\n  var {\n    layout,\n    barSettings: {\n      dataKey,\n      minPointSize: minPointSizeProp\n    },\n    pos,\n    bandSize,\n    xAxis,\n    yAxis,\n    xAxisTicks,\n    yAxisTicks,\n    stackedData,\n    displayedData,\n    offset,\n    cells,\n    parentViewBox,\n    dataStartIndex\n  } = _ref6;\n  var numericAxis = layout === 'horizontal' ? yAxis : xAxis;\n  // @ts-expect-error this assumes that the domain is always numeric, but doesn't check for it\n  var stackedDomain = stackedData ? numericAxis.scale.domain() : null;\n  var baseValue = getBaseValueOfBar({\n    numericAxis\n  });\n  var stackedBarStart = numericAxis.scale.map(baseValue);\n  return displayedData.map((entry, index) => {\n    var value, x, y, width, height, background;\n    if (stackedData) {\n      // Use dataStartIndex to access the correct element in the full stackedData array\n      var untruncatedValue = stackedData[index + dataStartIndex];\n      if (untruncatedValue == null) {\n        return null;\n      }\n      value = truncateByDomain(untruncatedValue, stackedDomain);\n    } else {\n      value = getValueByDataKey(entry, dataKey);\n      if (!Array.isArray(value)) {\n        value = [baseValue, value];\n      }\n    }\n    var minPointSize = minPointSizeCallback(minPointSizeProp, defaultMinPointSize)(value[1], index);\n    if (layout === 'horizontal') {\n      var _ref7;\n      var baseValueScale = yAxis.scale.map(value[0]);\n      var currentValueScale = yAxis.scale.map(value[1]);\n      if (baseValueScale == null || currentValueScale == null) {\n        return null;\n      }\n      x = getCateCoordinateOfBar({\n        axis: xAxis,\n        ticks: xAxisTicks,\n        bandSize,\n        offset: pos.offset,\n        entry,\n        index\n      });\n      y = (_ref7 = currentValueScale !== null && currentValueScale !== void 0 ? currentValueScale : baseValueScale) !== null && _ref7 !== void 0 ? _ref7 : undefined;\n      width = pos.size;\n      var computedHeight = baseValueScale - currentValueScale;\n      height = isNan(computedHeight) ? 0 : computedHeight;\n      background = {\n        x,\n        y: offset.top,\n        width,\n        height: offset.height\n      };\n      if (Math.abs(minPointSize) > 0 && Math.abs(height) < Math.abs(minPointSize)) {\n        var delta = mathSign(height || minPointSize) * (Math.abs(minPointSize) - Math.abs(height));\n        y -= delta;\n        height += delta;\n      }\n    } else {\n      var _baseValueScale = xAxis.scale.map(value[0]);\n      var _currentValueScale = xAxis.scale.map(value[1]);\n      if (_baseValueScale == null || _currentValueScale == null) {\n        return null;\n      }\n      x = _baseValueScale;\n      y = getCateCoordinateOfBar({\n        axis: yAxis,\n        ticks: yAxisTicks,\n        bandSize,\n        offset: pos.offset,\n        entry,\n        index\n      });\n      width = _currentValueScale - _baseValueScale;\n      height = pos.size;\n      background = {\n        x: offset.left,\n        y,\n        width: offset.width,\n        height\n      };\n      if (Math.abs(minPointSize) > 0 && Math.abs(width) < Math.abs(minPointSize)) {\n        var _delta = mathSign(width || minPointSize) * (Math.abs(minPointSize) - Math.abs(width));\n        width += _delta;\n      }\n    }\n    if (x == null || y == null || width == null || height == null) {\n      return null;\n    }\n    var barRectangleItem = _objectSpread(_objectSpread({}, entry), {}, {\n      stackedBarStart,\n      x,\n      y,\n      width,\n      height,\n      value: stackedData ? value : value[1],\n      payload: entry,\n      background,\n      tooltipPosition: {\n        x: x + width / 2,\n        y: y + height / 2\n      },\n      parentViewBox\n    }, cells && cells[index] && cells[index].props);\n    return barRectangleItem;\n  }).filter(Boolean);\n}\nfunction BarFn(outsideProps) {\n  var props = resolveDefaultProps(outsideProps, defaultBarProps);\n  // stackId may arrive from props or from BarStack context\n  var stackId = useStackId(props.stackId);\n  var isPanorama = useIsPanorama();\n  // Report all props to Redux store first, before calling any hooks, to avoid circular dependencies.\n  return /*#__PURE__*/React.createElement(RegisterGraphicalItemId, {\n    id: props.id,\n    type: \"bar\"\n  }, id => /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(SetLegendPayload, {\n    legendPayload: computeLegendPayloadFromBarData(props)\n  }), /*#__PURE__*/React.createElement(SetBarTooltipEntrySettings, {\n    dataKey: props.dataKey,\n    stroke: props.stroke,\n    strokeWidth: props.strokeWidth,\n    fill: props.fill,\n    name: props.name,\n    hide: props.hide,\n    unit: props.unit,\n    tooltipType: props.tooltipType,\n    id: id\n  }), /*#__PURE__*/React.createElement(SetCartesianGraphicalItem, {\n    type: \"bar\",\n    id: id\n    // Bar does not allow setting data directly on the graphical item (why?)\n    ,\n    data: undefined,\n    xAxisId: props.xAxisId,\n    yAxisId: props.yAxisId,\n    zAxisId: 0,\n    dataKey: props.dataKey,\n    stackId: stackId,\n    hide: props.hide,\n    barSize: props.barSize,\n    minPointSize: props.minPointSize,\n    maxBarSize: props.maxBarSize,\n    isPanorama: isPanorama\n  }), /*#__PURE__*/React.createElement(ZIndexLayer, {\n    zIndex: props.zIndex\n  }, /*#__PURE__*/React.createElement(BarImpl, _extends({}, props, {\n    id: id\n  })))));\n}\n\n/**\n * @provides ErrorBarContext\n * @provides LabelListContext\n * @provides CellReader\n * @consumes CartesianChartContext\n * @consumes BarStackContext\n */\nexport var Bar = /*#__PURE__*/React.memo(BarFn, propsAreEqual);\nBar.displayName = 'Bar';","import * as React from 'react';\nimport { forwardRef } from 'react';\nimport { arrayTooltipSearcher } from '../state/optionsSlice';\nimport { CartesianChart } from './CartesianChart';\nvar allowedTooltipTypes = ['axis', 'item'];\n\n/**\n * @consumes ResponsiveContainerContext\n * @provides CartesianViewBoxContext\n * @provides CartesianChartContext\n */\nexport var BarChart = /*#__PURE__*/forwardRef((props, ref) => {\n  return /*#__PURE__*/React.createElement(CartesianChart, {\n    chartName: \"BarChart\",\n    defaultTooltipEventType: \"axis\",\n    validateTooltipEventTypes: allowedTooltipTypes,\n    tooltipPayloadSearcher: arrayTooltipSearcher,\n    categoricalChartProps: props,\n    ref: ref\n  });\n});"],"names":["getBarSize","globalSize","totalSize","selfSize","barSize","isNullish","getPercentValue","combineBarSizeList","allBars","initialValue","stackedBars","isStacked","unstackedBars","b","groupByStack","acc","bar","s","stackedSizeList","_ref","_bars$","stackId","bars","dataKeys","unstackedSizeList","dk","ownKeys","r","t","o","_objectSpread","_defineProperty","_toPropertyKey","i","_toPrimitive","e","getBarPositions","barGap","barCategoryGap","bandSize","sizeList","maxBarSize","_sizeList$","len","realBarGap","result","isWellBehavedNumber","useFull","fullBarSize","sum","res","entry","offset","prev","_entry$barSize","newPosition","newRes","_offset","originalSize","size","combineAllBarPositions","globalMaxBarSize","barBandSize","childMaxBarSize","allBarPositions","pos","combineStackedData","stackGroups","barSettings","stackSeriesIdentifier","getStackSeriesIdentifier","stackGroup","stackedData","sd","combineBarPosition","position","p","getZIndexFromUnknown","input","defaultZIndex","prefix","invariant","condition","message","_extends","n","BarRectangle","props","React.createElement","Shape","minPointSizeCallback","minPointSize","defaultValue","value","index","isNumber","isValueNumberOrNil","pickIsPanorama","_state","_id","isPanorama","pickBarId","id","selectSynchronisedBarSettings","createSelector","selectUnfilteredCartesianItems","graphicalItems","item","selectMaxBarSize","pickCells","_isPanorama","cells","selectAllVisibleBars","selectChartLayout","selectXAxisIdFromGraphicalItemId","selectYAxisIdFromGraphicalItemId","layout","allItems","xAxisId","yAxisId","selectBarStackGroups","state","selectStackGroups","selectBarCartesianAxisSize","selectCartesianAxisSize","selectBarSizeList","selectRootBarSize","selectBarBandSize","_getBandSizeOfAxis","selectRootMaxBarSize","axis","ticks","selectAxisWithScale","selectTicksOfGraphicalItem","getBandSizeOfAxis","selectAxisBandSize","selectAllBarPositions","selectBarGap","selectBarCategoryGap","selectXAxisWithScale","selectYAxisWithScale","selectXAxisTicks","selectYAxisTicks","selectBarPosition","selectStackedDataOfItem","selectBarRectangles","selectChartOffsetInternal","selectAxisViewBox","selectChartDataWithIndexesIfNotInPanoramaPosition3","axisViewBox","xAxis","yAxis","xAxisTicks","yAxisTicks","_ref2","chartData","dataStartIndex","dataEndIndex","data","displayedData","computeBarRectangles","_excluded","_objectWithoutProperties","_objectWithoutPropertiesLoose","BarStackContext","createContext","useStackId","childStackId","stackSettings","useContext","getNormalizedStackId","getClipPathId","useBarStackClipPathUrl","barStackContext","BarStackClipLayer","rest","clipPathUrl","Layer","_excluded2","_excluded3","_excluded4","computeLegendPayloadFromBarData","dataKey","name","fill","legendType","hide","getTooltipNameProp","SetBarTooltipEntrySettings","React.memo","stroke","strokeWidth","unit","tooltipType","tooltipEntrySettings","noop","SetTooltipEntrySettings","BarBackground","activeIndex","useAppSelector","selectActiveTooltipIndex","backgroundFromProps","allOtherBarProps","onMouseEnterFromProps","onMouseLeaveFromProps","onItemClickFromProps","restOfAllOtherProps","onMouseEnterFromContext","useMouseEnterItemDispatch","onMouseLeaveFromContext","useMouseLeaveItemDispatch","onClickFromContext","useMouseClickItemDispatch","backgroundProps","svgPropertiesNoEventsFromUnknown","ZIndexLayer","DefaultZIndexes","backgroundFromDataEntry","tooltipPosition","onMouseEnter","onMouseLeave","onClick","barRectangleProps","adaptEventsOfChild","BarLabelListProvider","showLabels","children","rects","labelListEntries","viewBox","CartesianLabelListContextProvider","BarRectangleWithActiveState","shape","activeBar","baseProps","activeDataKey","selectActiveTooltipDataKey","isActive","option","BarRectangleNeverActive","BarRectangles","_ref3","_svgPropertiesNoEvent","_ref4","svgPropertiesNoEvents","React.Fragment","RectanglesWithAnimation","_ref5","previousRectanglesRef","isAnimationActive","animationBegin","animationDuration","animationEasing","onAnimationEnd","onAnimationStart","prevData","animationId","useAnimationId","isAnimating","setIsAnimating","useState","handleAnimationEnd","useCallback","handleAnimationStart","JavascriptAnimate","stepData","interpolate","height","y","w","x","LabelListFromLabelProp","RenderRectangles","useRef","defaultMinPointSize","errorBarDataPointFormatter","dataPoint","getValueByDataKey","BarWithState","PureComponent","className","needClip","background","layerClass","clsx","clipPathId","GraphicalItemClipPath","defaultBarProps","BarImpl","useNeedsClip","useChartLayout","useIsPanorama","findAllByType","Cell","errorBarOffset","firstDataPoint","SetErrorBarContext","_ref6","minPointSizeProp","parentViewBox","numericAxis","stackedDomain","baseValue","getBaseValueOfBar","stackedBarStart","width","untruncatedValue","truncateByDomain","_ref7","baseValueScale","currentValueScale","getCateCoordinateOfBar","computedHeight","isNan","delta","mathSign","_baseValueScale","_currentValueScale","_delta","barRectangleItem","BarFn","outsideProps","resolveDefaultProps","RegisterGraphicalItemId","SetLegendPayload","SetCartesianGraphicalItem","Bar","propsAreEqual","allowedTooltipTypes","BarChart","forwardRef","ref","CartesianChart","arrayTooltipSearcher"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10]}