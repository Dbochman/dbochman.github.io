import{r as f,aQ as _e,aR as $e,aS as Ve,j as e,a6 as Ie,aB as Ye,aT as Ue,aU as qe,aV as V,g as Z,ap as Ke,aG as We,d as Xe,aI as ze,aq as He,T as Ge,i as Qe}from"./vendor-DeyLhXpq.js";import{T as Ze,a as te}from"./tabs-Cta2-_OZ.js";import{R as Je}from"./responsive-tabs-DqFY1am2.js";import{l as et,C as j,a as S,b as C,e as b,f as tt,B as st,c as k}from"./index-C80gN8Bw.js";import{I as ae}from"./input-YB48jCN_.js";import{L as O}from"./label-zCgB-xLj.js";import{S as ee}from"./slider-B4oC9STL.js";import{S as xe,a as he,b as pe,c as ge,d as K}from"./select-CdX-EdLH.js";import{t as H}from"./trackToolEvent-dYL5XBH_.js";import{P as Te}from"./progress-RJ5Nz_g0.js";import{r as at,D as nt,u as rt,bq as it,br as lt,e as ot,c as dt,f as fe,h as je,Z as ct,L as ut,j as mt,C as xt,k as ht,m as W,b8 as pt,R as gt,T as ft}from"./CategoricalChart-duV1COC7.js";import{L as jt,a as se}from"./LineChart-CZFc_bR9.js";import{a as bt,X as vt,Y as yt}from"./CartesianChart-CwdFezkh.js";import{C as Nt,R as Mt}from"./ReferenceLine-CsS3UFc3.js";import"./monitoring-C74x5Iy6.js";import"./ui-BQCqNqg0.js";import"./theme-CfHJhC9-.js";import"./string-B1tyo_-o.js";import"./band-CquvqAHh.js";import"./init-Dmth1JHB.js";import"./ordinal-DILIJJjt.js";import"./linear-DQdcXjjB.js";import"./defaultLocale-DX6XiGOO.js";import"./time-CutwCmSq.js";import"./getRadiusAndStrokeWidthFromDot-Ygmr1NzX.js";import"./ErrorBarContext-EZSLdsfv.js";import"./ActiveShapeUtils-DxNGgqWV.js";import"./Symbols-CIEB9ePZ.js";import"./math-CRUJxRjv.js";function be(t,s){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);s&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function ve(t){for(var s=1;s<arguments.length;s++){var n=arguments[s]!=null?arguments[s]:{};s%2?be(Object(n),!0).forEach(function(a){wt(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):be(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function wt(t,s,n){return(s=St(s))in t?Object.defineProperty(t,s,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[s]=n,t}function St(t){var s=Ct(t,"string");return typeof s=="symbol"?s:s+""}function Ct(t,s){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,s);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(t)}function J(){return J=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var n=arguments[s];for(var a in n)({}).hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},J.apply(null,arguments)}var Dt=(t,s,n,a,r,i,d)=>{var o,u,l,h,{x1:g,x2:c,y1:p,y2:x}=d;if(r==null||i==null)return null;var D=new Nt({x:r,y:i}),N={x:t?(o=r.map(g,{position:"start"}))!==null&&o!==void 0?o:null:r.rangeMin(),y:n?(u=i.map(p,{position:"start"}))!==null&&u!==void 0?u:null:i.rangeMin()},y={x:s?(l=r.map(c,{position:"end"}))!==null&&l!==void 0?l:null:r.rangeMax(),y:a?(h=i.map(x,{position:"end"}))!==null&&h!==void 0?h:null:i.rangeMax()};return d.ifOverflow==="discard"&&(!D.isInRange(N)||!D.isInRange(y))?null:bt(N,y)},It=(t,s)=>{var n;return f.isValidElement(t)?n=f.cloneElement(t,s):typeof t=="function"?n=t(s):n=f.createElement(pt,J({},s,{className:"recharts-reference-area-rect"})),n};function Tt(t){var s=rt();return f.useEffect(()=>(s(it(t)),()=>{s(lt(t))})),null}function kt(t){var{x1:s,x2:n,y1:a,y2:r,className:i,shape:d,xAxisId:o,yAxisId:u}=t,l=ot(),h=dt(),g=fe(L=>je(L,"xAxis",o,h)),c=fe(L=>je(L,"yAxis",u,h));if(g==null||c==null)return null;var p=W(s),x=W(n),D=W(a),N=W(r);if(!p&&!x&&!D&&!N&&!d)return null;var y=Dt(p,x,D,N,g,c,t);if(!y&&!d)return null;var I=t.ifOverflow==="hidden",B=I?"url(#".concat(l,")"):void 0;return f.createElement(ct,{zIndex:t.zIndex},f.createElement(ut,{className:et("recharts-reference-area",i)},It(d,ve(ve({clipPath:B},mt(t)),y)),y!=null&&f.createElement(xt,J({},y,{lowerWidth:y.width,upperWidth:y.width}),f.createElement(ht,{label:t.label}),t.children)))}var Bt={ifOverflow:"discard",xAxisId:0,yAxisId:0,radius:0,fill:"#ccc",label:!1,fillOpacity:.5,stroke:"none",strokeWidth:1,zIndex:nt.area};function ke(t){var s=at(t,Bt);return f.createElement(f.Fragment,null,f.createElement(Tt,{yAxisId:s.yAxisId,xAxisId:s.xAxisId,ifOverflow:s.ifOverflow,x1:s.x1,x2:s.x2,y1:s.y1,y2:s.y2}),f.createElement(kt,s))}ke.displayName="ReferenceArea";const Be=_e,Oe=$e,Le=Ve,re={monthly:30,quarterly:90,yearly:365},E={monthly:"Month",quarterly:"Quarter",yearly:"Year"},Ot={alertLatencyMin:5,acknowledgeMin:5,travelMin:0,authMin:1,diagnoseMin:5,fixMin:10},ye=["Database connection timeout","API gateway latency spike","Memory exhaustion","Certificate expiration","Network partition","Disk I/O saturation","Cache invalidation failure","Load balancer misconfiguration","DNS resolution failure","Third-party service outage","Deployment rollback","Resource quota exceeded"];function ie(t){const s=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),a=String(t.getDate()).padStart(2,"0");return`${s}-${n}-${a}`}function le(t){const[s,n,a]=t.split("-").map(Number);return new Date(s,n-1,a)}function Lt(){return Math.random().toString(36).substring(2,9)}function Y(t){return t.alertLatencyMin+t.acknowledgeMin+t.travelMin+t.authMin+t.diagnoseMin+t.fixMin}function Et(t,s){return{alertLatencyMin:s.alertLatencyMin?t.alertLatencyMin:0,acknowledgeMin:s.acknowledgeMin?t.acknowledgeMin:0,travelMin:s.travelMin?t.travelMin:0,authMin:s.authMin?t.authMin:0,diagnoseMin:s.diagnoseMin?t.diagnoseMin:0,fixMin:s.fixMin?t.fixMin:0}}function Rt(t){const s=Y(t);return s===0?0:(t.alertLatencyMin+t.acknowledgeMin+t.travelMin+t.authMin)/s*100}function oe(t){return re[t]*24*60}function de(t,s){const n=oe(s),a=1-t/100;return n*a}function Ee(t,s){const n=oe(s);return(100-t)/100*n}function ce(t,s){return Y(t)*s}function Pt(t,s,n){const a=oe(n),r=ce(t,s),d=(a-r)/a*100;return Math.max(0,Math.min(100,d))}function At(t,s){const n=ce(t,s);return[{key:"alertLatencyMin",label:"Alert latency"},{key:"acknowledgeMin",label:"Acknowledge"},{key:"travelMin",label:"Get to computer"},{key:"authMin",label:"Authenticate"},{key:"diagnoseMin",label:"Diagnose"},{key:"fixMin",label:"Fix"}].map(({key:r,label:i})=>{const d=t[r]*s;return{phase:r,label:i,totalMinutes:d,percentOfBudget:n>0?d/n*100:0}})}function Ft(t,s,n){return{mttrMinutes:Y(t),periodDowntimeMinutes:ce(t,s),maxAchievableSlo:Pt(t,s,n),breakdown:At(t,s),responseOverheadPercent:Rt(t)}}function _t(t,s,n){const a=Ee(s,n),r=Y(t);return r===0?1/0:a/r}function $t(t,s,n,a){const r=Y(t),i=Ee(s,a),d=_t(t,s,a),o=r*n,u=o<=i;return{targetSlo:s,periodBudgetMinutes:i,mttrMinutes:r,allowedIncidents:d,expectedIncidents:n,canMeet:u,surplusOrDeficitMinutes:i-o}}function Re(t){return t.durationMinutes}function Vt(t){return t.reduce((s,n)=>s+Re(n),0)}function Yt(t,s,n=new Date){const a=re[t.period],r=de(t.target,t.period),i=le(t.startDate),d=Math.max(1,Math.floor((n.getTime()-i.getTime())/(1e3*60*60*24))),o=Math.max(0,a-d),u=Vt(s),l=Math.max(0,r-u),h=u/r*100,g=100-h,c=u/d,p=r/a,x=c/p,N=c*a<=r;let y=null;if(!N&&c>0){const I=l/c;y=new Date(n.getTime()+I*24*60*60*1e3)}return{totalBudgetMinutes:r,consumedMinutes:u,remainingMinutes:l,consumedPercent:h,remainingPercent:g,burnRate:c,sustainableRate:p,burnMultiplier:x,projectedExhaustionDate:y,isOnTrack:N,daysElapsed:d,daysRemaining:o,periodDays:a}}function Ut(t,s,n,a){const{periodDays:r,totalBudgetMinutes:i,sustainableRate:d}=n,o=a!==void 0?d*a:n.burnRate,u=le(t.startDate),l=[],h=[...s].sort((p,x)=>p.date.localeCompare(x.date));let g=0,c=0;for(let p=0;p<=r;p++){const x=new Date(u.getTime()+p*24*60*60*1e3),D=ie(x);for(;c<h.length&&h[c].date<=D;)g+=Re(h[c]),c++;const N=p/r*i,y=i-N,I={day:p,date:x.toLocaleDateString("en-US",{month:"short",day:"numeric"}),ideal:Math.round(y*100)/100};if(p<=n.daysElapsed){const B=Math.max(0,i-g);I.actual=Math.round(B*100)/100}if(p>=n.daysElapsed){const B=n.consumedMinutes+o*(p-n.daysElapsed);I.projected=Math.max(0,Math.round((i-B)*100)/100)}l.push(I)}return l}function qt(t,s){const{sustainableRate:n,totalBudgetMinutes:a,remainingMinutes:r,daysRemaining:i}=t,d=n*s,o=d*i,u=t.consumedMinutes+o,l=u/a*100,h=u<=a;let g=null,c=null;return!h&&d>0&&(g=r/d,c=new Date(Date.now()+g*24*60*60*1e3)),{daysUntilExhaustion:g,exhaustionDate:c,isOnTrack:h,percentConsumedAtEnd:Math.min(l,100)}}function Kt(t,s,n,a){const r=[],i=le(n),o=Math.min(a,Math.floor((new Date().getTime()-i.getTime())/(1e3*60*60*24)));if(o<=0||s===0)return r;const u=Math.max(1,Math.floor(o/s));for(let l=0;l<s&&l*u<=o;l++){const h=Math.floor(u*.2*(Math.random()-.5)),g=Math.min(o,Math.max(0,l*u+h)),c=new Date(i.getTime()+g*24*60*60*1e3),p=1+(Math.random()-.5)*.6,x=Math.max(1,Math.round(t*p));r.push({id:Lt(),name:ye[l%ye.length],date:ie(c),durationMinutes:x})}return r}function v(t){if(t<1)return`${Math.round(t*60)}s`;if(t<60)return`${Math.round(t)}m`;const s=Math.floor(t/60),n=Math.round(t%60);if(s<24)return n>0?`${s}h ${n}m`:`${s}h`;const a=Math.floor(s/24),r=s%24;return r>0?`${a}d ${r}h`:`${a}d`}function A(t){return t>=99.99?t.toFixed(3)+"%":t>=99?t.toFixed(2)+"%":t.toFixed(1)+"%"}const ne=[{value:99,label:"99% (Two nines)",shortLabel:"Two nines",monthlyBudget:"7.2 hours",yearlyBudget:"3.65 days"},{value:99.5,label:"99.5%",shortLabel:"99.5%",monthlyBudget:"3.6 hours",yearlyBudget:"1.83 days"},{value:99.9,label:"99.9% (Three nines)",shortLabel:"Three nines",monthlyBudget:"43.2 min",yearlyBudget:"8.76 hours"},{value:99.95,label:"99.95%",shortLabel:"99.95%",monthlyBudget:"21.6 min",yearlyBudget:"4.38 hours"},{value:99.99,label:"99.99% (Four nines)",shortLabel:"Four nines",monthlyBudget:"4.32 min",yearlyBudget:"52.6 min"},{value:99.999,label:"99.999% (Five nines)",shortLabel:"Five nines",monthlyBudget:"26 sec",yearlyBudget:"5.26 min"}],Wt=ne.map(t=>t.value);function Xt(t){for(const s of Wt){const n=s>=99.9?.015:.1;if(Math.abs(t-s)<=n)return s}return t}const X=0,Ne=99,F=99.999;function zt({config:t,onChange:s}){const[n,a]=f.useState(t.target.toString());f.useEffect(()=>{a(t.target.toString())},[t.target]);const r=de(t.target,t.period),i=ne.find(c=>c.value===t.target),d=c=>{const p=Xt(c[0]);s({...t,target:p}),a(p.toString())},o=c=>{const p=parseFloat(c);s({...t,target:p}),a(p.toString())},u=c=>{const p=c.target.value;a(p);const x=parseFloat(p);!isNaN(x)&&x>=X&&x<=F&&s({...t,target:x})},l=()=>{const c=parseFloat(n);isNaN(c)||c<X?(a(X.toString()),s({...t,target:X})):c>F?(a(F.toString()),s({...t,target:F})):a(c.toString())},h=c=>{s({...t,period:c}),H({tool_name:"slo_calculator",action:"period_change",event_label:c})},g=c=>{s({...t,startDate:c.target.value})};return e.jsxs(j,{children:[e.jsx(S,{className:"pb-4",children:e.jsx(C,{as:"h2",className:"text-lg",children:"SLO Configuration"})}),e.jsxs(b,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[e.jsx(O,{htmlFor:"slo-target",children:"Availability Target"}),e.jsxs(xe,{value:i?t.target.toString():"",onValueChange:o,children:[e.jsx(he,{className:"w-full sm:w-48","aria-label":"SLO preset",children:e.jsx(pe,{placeholder:"Custom"})}),e.jsx(ge,{children:ne.map(c=>e.jsx(K,{value:c.value.toString(),children:c.label},c.value))})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(ee,{id:"slo-target",min:Ne,max:F,step:.001,value:[Math.max(Ne,t.target)],onValueChange:d,className:"flex-1","aria-label":"SLO target percentage"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ae,{type:"text",inputMode:"decimal",value:n,onChange:u,onBlur:l,"aria-label":"Target SLO percentage",className:"w-24 h-8 text-sm font-mono tabular-nums text-right pr-1"}),e.jsx("span",{className:"text-sm",children:"%"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(O,{htmlFor:"budget-period",children:"Budget Period"}),e.jsxs(xe,{value:t.period,onValueChange:h,children:[e.jsx(he,{id:"budget-period","aria-label":"Budget period",children:e.jsx(pe,{})}),e.jsxs(ge,{children:[e.jsx(K,{value:"monthly",children:"Monthly (30 days)"}),e.jsx(K,{value:"quarterly",children:"Quarterly (90 days)"}),e.jsx(K,{value:"yearly",children:"Yearly (365 days)"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(O,{htmlFor:"start-date",children:"Period Start Date"}),e.jsx("input",{id:"start-date",type:"date",value:t.startDate,onChange:g,className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-hidden focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:scheme-dark"})]}),e.jsxs("div",{className:"rounded-lg bg-muted/50 p-4",children:[e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Total Error Budget:"," ",e.jsx("span",{className:"font-semibold text-foreground",children:v(r)})]}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[((1-t.target/100)*100).toFixed(3),"% of ",t.period," period"]})]})]})]})}const Me=[{field:"alertLatencyMin",label:"Alert latency",description:"Condition true → alert fires",max:30},{field:"acknowledgeMin",label:"Time to acknowledge",description:"Alert fires → you see it",max:30},{field:"travelMin",label:"Time to computer",description:"Get to your workstation",max:60},{field:"authMin",label:"Time to authenticate",description:"VPN, SSO, internal tools",max:20},{field:"diagnoseMin",label:"Time to diagnose",description:"Investigate underlying cause(s)",max:60},{field:"fixMin",label:"Time to fix",description:"Implement the fix",max:120}];function we({field:t,label:s,description:n,max:a,value:r,isEnabled:i,onChange:d,onToggle:o}){return e.jsxs("div",{className:`space-y-2 ${i?"":"opacity-50"}`,children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(tt,{variant:"ghost",size:"icon",className:"h-6 w-6 shrink-0",onClick:()=>o(t),"aria-label":i?`Exclude ${s} from calculation`:`Include ${s} in calculation`,children:i?e.jsx(Ye,{className:"h-4 w-4"}):e.jsx(Ue,{className:"h-4 w-4"})}),e.jsxs("div",{children:[e.jsx(O,{htmlFor:t,className:"text-sm font-medium",children:s}),e.jsx("p",{className:"text-xs text-muted-foreground",children:n})]})]}),e.jsx("span",{className:"text-sm font-mono tabular-nums text-primary",children:i?`${r} min`:"excluded"})]}),e.jsx(ee,{id:t,"aria-label":s,value:[r],onValueChange:([u])=>d(t,u),min:0,max:a,step:1,className:"w-full",disabled:!i})]})}function Se({profile:t,enabledPhases:s,onChange:n,onToggle:a}){const[r,i]=f.useState(!1),d=Me[0],o=Me.slice(1);return e.jsx(j,{children:e.jsxs(Be,{open:r,onOpenChange:i,children:[e.jsx(S,{className:"pb-4",children:e.jsx(Oe,{asChild:!0,children:e.jsxs("button",{className:"flex items-center justify-between w-full text-left group","aria-expanded":r,children:[e.jsx(C,{as:"h2",className:"text-base",children:"Response Times (per incident)"}),e.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground group-hover:text-foreground transition-colors",children:[e.jsx("span",{children:r?"Less options":"More options"}),e.jsx(Ie,{className:`h-4 w-4 transition-transform duration-200 ${r?"rotate-180":""}`})]})]})})}),e.jsxs(b,{className:"space-y-6",children:[e.jsx(we,{field:d.field,label:d.label,description:d.description,max:d.max,value:t[d.field],isEnabled:s[d.field],onChange:n,onToggle:a}),e.jsx(Le,{className:"overflow-hidden data-[state=open]:animate-collapsible-down data-[state=closed]:animate-collapsible-up",children:e.jsx("div",{className:"space-y-6",children:o.map(({field:u,label:l,description:h,max:g})=>e.jsx(we,{field:u,label:l,description:h,max:g,value:t[u],isEnabled:s[u],onChange:n,onToggle:a},u))})})]})]})})}function Ce({value:t,onChange:s,period:n}){const a=E[n].toLowerCase();return e.jsx(j,{className:"@container",children:e.jsx(b,{className:"pt-6",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex flex-col @sm:flex-row @sm:justify-between gap-1",children:[e.jsxs("div",{children:[e.jsxs(O,{htmlFor:"incidents",className:"text-sm font-medium",children:["Expected incidents per ",a]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"How many incidents typically require response?"})]}),e.jsxs("span",{className:"text-sm font-mono tabular-nums text-primary shrink-0",children:[t," ",t===1?"incident":"incidents"]})]}),e.jsx(ee,{id:"incidents","aria-label":`Expected incidents per ${a}`,value:[t],onValueChange:([r])=>s(r),min:0,max:20,step:1,className:"w-full"})]})})})}function Ht(t){const{responseOverheadPercent:s,maxAchievableSlo:n,breakdown:a,mttrMinutes:r,periodDowntimeMinutes:i}=t,o=[...a].sort((l,h)=>h.percentOfBudget-l.percentOfBudget)[0],u=a.find(l=>l.phase==="travelMin");return i===0||r===0?{type:"success",title:"Perfect availability",message:"With zero response time or incidents, you can achieve 100% uptime."}:n>=99.9?{type:"success",title:"Enterprise-grade reliability",message:`You can achieve ${A(n)} uptime. That's three nines or better—suitable for mission-critical systems.`}:n<99?{type:"warning",title:"Reliability at risk",message:`Current profile only achieves ${A(n)}. Consider reducing response times or incident frequency to improve.`}:u&&u.totalMinutes>0&&u.percentOfBudget>20?{type:"warning",title:"Travel time impact",message:`Getting to a computer accounts for ${u.percentOfBudget.toFixed(0)}% of your response time. Consider mobile incident tools or reducing after-hours response expectations.`}:s>50?{type:"warning",title:"Response overhead",message:`${s.toFixed(0)}% of your time is spent on overhead (alerting, acknowledgment, travel, auth) before you even start diagnosing.`}:o.phase==="diagnoseMin"&&o.percentOfBudget>40?{type:"tip",title:"Diagnosis bottleneck",message:`Diagnosis takes ${o.percentOfBudget.toFixed(0)}% of your response time. Better runbooks, observability dashboards, or AI-assisted triage could help.`}:o.phase==="fixMin"&&o.percentOfBudget>40?{type:"tip",title:"Remediation focus",message:`Fixing takes ${o.percentOfBudget.toFixed(0)}% of your response time. Consider automated remediation, feature flags for quick rollbacks, or reducing deployment complexity.`}:s<30?{type:"info",title:"Efficient response chain",message:`Only ${s.toFixed(0)}% overhead before diagnosis begins. Your alerting and access workflows are well-optimized.`}:{type:"info",title:"Response overhead",message:`${s.toFixed(0)}% of your error budget goes to response overhead before you start diagnosing and fixing.`}}const Gt={info:{card:"bg-blue-500/10 border-blue-500/20",icon:"text-blue-500"},warning:{card:"bg-amber-500/10 border-amber-500/20",icon:"text-amber-500"},success:{card:"bg-emerald-500/10 border-emerald-500/20",icon:"text-emerald-500"},tip:{card:"bg-violet-500/10 border-violet-500/20",icon:"text-violet-500"}},Qt={info:Ke,warning:Z,success:V,tip:qe};function Zt({result:t,period:s}){const n=E[s].toLowerCase();return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(j,{children:[e.jsx(S,{className:"pb-2",children:e.jsx(C,{as:"h2",className:"text-sm font-medium text-muted-foreground",children:"Per-incident MTTR"})}),e.jsx(b,{children:e.jsx("div",{className:"text-xl font-bold",children:v(t.mttrMinutes)})})]}),e.jsxs(j,{children:[e.jsx(S,{className:"pb-2",children:e.jsxs(C,{as:"h2",className:"text-sm font-medium text-muted-foreground",children:[E[s]," downtime"]})}),e.jsx(b,{children:e.jsx("div",{className:"text-xl font-bold",children:v(t.periodDowntimeMinutes)})})]}),e.jsxs(j,{children:[e.jsx(S,{className:"pb-2",children:e.jsx(C,{as:"h2",className:"text-sm font-medium text-muted-foreground",children:"Yearly downtime"})}),e.jsx(b,{children:e.jsx("div",{className:"text-xl font-bold",children:v(s==="yearly"?t.periodDowntimeMinutes:s==="quarterly"?t.periodDowntimeMinutes*4:t.periodDowntimeMinutes*12)})})]}),e.jsxs(j,{className:"bg-primary/5 border-primary/20",children:[e.jsx(S,{className:"pb-2",children:e.jsx(C,{as:"h2",className:"text-sm font-medium text-muted-foreground",children:"Maximum achievable SLO"})}),e.jsx(b,{children:e.jsx("div",{className:"text-xl font-bold text-primary",children:A(t.maxAchievableSlo)})})]})]}),e.jsxs(j,{children:[e.jsx(S,{className:"pb-2",children:e.jsxs(C,{as:"h2",className:"text-base",children:["Downtime Budget Breakdown (per ",n,")"]})}),e.jsx(b,{className:"space-y-3",children:t.breakdown.map(a=>e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:a.label}),e.jsxs("span",{className:"font-mono tabular-nums",children:[v(a.totalMinutes)," ",e.jsxs("span",{className:"text-muted-foreground",children:["(",a.percentOfBudget.toFixed(1),"%)"]})]})]}),e.jsx(Te,{value:a.percentOfBudget,className:"h-2","aria-label":`${a.label}: ${a.percentOfBudget.toFixed(1)}% of budget`})]},a.phase))})]}),(()=>{const a=Ht(t),r=Gt[a.type],i=Qt[a.type];return e.jsx(j,{className:r.card,children:e.jsx(b,{className:"pt-6",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx(i,{className:`h-5 w-5 ${r.icon} shrink-0 mt-0.5`}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm",children:a.title}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:a.message})]})]})})})})()]})}function Jt({result:t,achievableResult:s,period:n}){const a=t.canMeet,r=E[n].toLowerCase();return e.jsxs("div",{className:"space-y-4",children:[e.jsx(j,{className:a?"bg-green-500/10 border-green-500/20":"bg-red-500/10 border-red-500/20",children:e.jsx(b,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[a?e.jsx(V,{className:"h-8 w-8 text-green-500"}):e.jsx(We,{className:"h-8 w-8 text-red-500"}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xl font-bold",children:a?"LIKELY TO MEET":"UNLIKELY TO MEET"}),e.jsx(st,{variant:a?"default":"destructive",children:A(t.targetSlo)})]}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:a?`You have ${v(t.surplusOrDeficitMinutes)} of buffer in your error budget.`:`You're ${v(Math.abs(t.surplusOrDeficitMinutes))} over your error budget.`})]})]})})}),e.jsxs(j,{children:[e.jsx(S,{className:"pb-2",children:e.jsx(C,{as:"h2",className:"text-base",children:"Error Budget Usage"})}),e.jsx(b,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Expected usage"}),e.jsxs("span",{className:"font-mono tabular-nums",children:[Math.min(100,s.periodDowntimeMinutes/t.periodBudgetMinutes*100).toFixed(0),"%"]})]}),e.jsxs("div",{className:"relative h-4 w-full rounded-full bg-secondary overflow-hidden",children:[e.jsx("div",{className:`h-full transition-all ${a?"bg-primary":"bg-red-500"}`,style:{width:`${Math.min(100,s.periodDowntimeMinutes/t.periodBudgetMinutes*100)}%`}}),!a&&e.jsx("div",{className:"absolute top-0 right-0 h-full bg-red-500/30 border-l-2 border-red-500 border-dashed",style:{width:`${Math.max(0,100-t.periodBudgetMinutes/s.periodDowntimeMinutes*100)}%`}})]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[E[n]," budget: ",v(t.periodBudgetMinutes)," | Expected:"," ",v(s.periodDowntimeMinutes)]})]})})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(j,{children:[e.jsx(S,{className:"pb-2",children:e.jsxs(C,{as:"h2",className:"text-sm font-medium text-muted-foreground",children:[E[n]," budget"]})}),e.jsx(b,{children:e.jsx("div",{className:"text-xl font-bold",children:v(t.periodBudgetMinutes)})})]}),e.jsxs(j,{children:[e.jsx(S,{className:"pb-2",children:e.jsx(C,{as:"h2",className:"text-sm font-medium text-muted-foreground",children:"Your MTTR"})}),e.jsx(b,{children:e.jsx("div",{className:"text-xl font-bold",children:v(t.mttrMinutes)})})]}),e.jsxs(j,{children:[e.jsx(S,{className:"pb-2",children:e.jsx(C,{as:"h2",className:"text-sm font-medium text-muted-foreground",children:"Budget allows"})}),e.jsx(b,{children:e.jsxs("div",{className:"text-xl font-bold",children:[isFinite(t.allowedIncidents)?t.allowedIncidents<1?t.allowedIncidents.toFixed(2):t.allowedIncidents.toFixed(1):"∞"," ",e.jsxs("span",{className:"text-sm font-normal text-muted-foreground",children:["incidents/",r.substring(0,2)]})]})})]}),e.jsxs(j,{children:[e.jsx(S,{className:"pb-2",children:e.jsx(C,{as:"h2",className:"text-sm font-medium text-muted-foreground",children:"Yearly budget"})}),e.jsx(b,{children:e.jsx("div",{className:"text-xl font-bold",children:v(n==="yearly"?t.periodBudgetMinutes:n==="quarterly"?t.periodBudgetMinutes*4:t.periodBudgetMinutes*12)})})]})]}),!a&&e.jsxs(j,{children:[e.jsx(S,{className:"pb-2",children:e.jsxs(C,{as:"h2",className:"text-base",children:["To meet ",A(t.targetSlo),", you could:"]})}),e.jsx(b,{children:e.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-primary",children:"•"}),e.jsxs("span",{children:["Reduce expected incidents to"," ",e.jsx("strong",{className:"text-foreground",children:t.allowedIncidents<1?"< 1":`≤ ${Math.floor(t.allowedIncidents)}`})," ","per ",r]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-primary",children:"•"}),e.jsxs("span",{children:["Reduce MTTR to"," ",e.jsx("strong",{className:"text-foreground",children:v(t.periodBudgetMinutes/t.expectedIncidents)})," ","per incident"]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-primary",children:"•"}),e.jsxs("span",{children:["Target"," ",e.jsx("strong",{className:"text-foreground",children:A(s.maxAchievableSlo)})," ","SLO instead (achievable with current profile)"]})]})]})})]})]})}function es({active:t,payload:s,label:n}){return!t||!s||!s.length?null:e.jsxs("div",{className:"bg-popover text-popover-foreground border border-border rounded-lg px-3 py-2 text-sm shadow-md",children:[e.jsx("p",{className:"font-medium mb-1",children:n}),s.map((a,r)=>{if(a.value===void 0)return null;const i=Number(a.value),d=a.dataKey==="ideal"?"Ideal":a.dataKey==="actual"?"Actual":"Projected",o=a.dataKey==="ideal"?"text-muted-foreground":a.dataKey==="actual"?"text-primary":"text-yellow-500";return e.jsxs("p",{className:o,children:[d,": ",v(i)]},r)})]})}function ts({data:t,daysElapsed:s,isOnTrack:n,compact:a=!1,title:r="Budget Burndown"}){if(t.length===0)return e.jsx(j,{children:e.jsx(b,{className:"h-32 flex items-center justify-center text-muted-foreground",children:"No data to display"})});const i=t.find(o=>o.projected!==void 0&&o.projected<=0)?.day,d=a?"h-40":"h-64";return e.jsxs(j,{children:[e.jsx(S,{className:"pb-2",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(C,{as:"h2",className:a?"text-base":"text-lg",children:r}),e.jsx("div",{className:`flex items-center gap-1.5 text-xs font-medium ${n?"text-green-600":"text-destructive"}`,children:n?e.jsxs(e.Fragment,{children:[e.jsx(V,{className:"h-4 w-4"}),"On Track"]}):e.jsxs(e.Fragment,{children:[e.jsx(Z,{className:"h-4 w-4"}),"At Risk"]})})]})}),e.jsxs(b,{children:[e.jsx("div",{className:`${d} w-full`,children:e.jsx(gt,{width:"100%",height:"100%",minWidth:0,children:e.jsxs(jt,{data:t,margin:{top:10,right:10,left:0,bottom:0},children:[!n&&i&&e.jsx(ke,{x1:i,x2:t.length-1,fill:"hsl(var(--destructive))",fillOpacity:.1}),e.jsx(vt,{dataKey:"date",tick:{fontSize:a?10:11},tickLine:!1,axisLine:!1,interval:Math.max(0,Math.floor(t.length/(a?4:6))-1),className:"text-muted-foreground"}),!a&&e.jsx(yt,{tick:{fontSize:12},tickLine:!1,axisLine:!1,tickFormatter:o=>v(o),className:"text-muted-foreground",width:50}),e.jsx(ft,{content:e.jsx(es,{})}),e.jsx(Mt,{x:t[s]?.date,stroke:"hsl(var(--muted-foreground))",strokeDasharray:"4 4",strokeOpacity:.5}),e.jsx(se,{type:"monotone",dataKey:"ideal",stroke:"hsl(var(--muted-foreground))",strokeWidth:1,strokeDasharray:"4 4",dot:!1,activeDot:!1}),e.jsx(se,{type:"stepAfter",dataKey:"actual",stroke:"hsl(var(--primary))",strokeWidth:2,dot:!1,activeDot:a?!1:{r:4}}),e.jsx(se,{type:"monotone",dataKey:"projected",stroke:n?"hsl(var(--chart-2))":"hsl(var(--destructive))",strokeWidth:2,strokeDasharray:"6 4",dot:!1,activeDot:!1})]})})}),!a&&e.jsxs("div",{className:"mt-4 space-y-2",children:[e.jsxs("div",{className:"flex flex-wrap gap-4 justify-center text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-0.5 border-t-2 border-dashed border-muted-foreground"}),e.jsx("span",{className:"text-muted-foreground",children:"Ideal"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-0.5 bg-primary"}),e.jsx("span",{className:"text-muted-foreground",children:"Actual"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-4 h-0.5 border-t-2 border-dashed ${n?"border-green-500":"border-destructive"}`}),e.jsx("span",{className:"text-muted-foreground",children:"Projected"})]})]}),e.jsx("p",{className:"text-xs text-muted-foreground text-center",children:`The "ideal" line represents a linear burn rate—it assumes you'll burn through your entire error budget evenly over the period, reaching exactly 0 at the end.`})]})]})]})}const G=.1,Q=5;function De(t){return Math.min(Q,Math.max(G,t))}function ss({calculation:t,config:s,incidents:n}){const[a,r]=f.useState(()=>De(t.burnMultiplier));f.useEffect(()=>{r(De(t.burnMultiplier))},[t.burnMultiplier]);const{totalBudgetMinutes:i,consumedMinutes:d,remainingMinutes:o,consumedPercent:u,burnMultiplier:l,projectedExhaustionDate:h,isOnTrack:g,daysElapsed:c,daysRemaining:p}=t,x=f.useMemo(()=>qt(t,a),[t,a]),D=f.useMemo(()=>Ut(s,n,t,a),[s,n,t,a]),N=T=>T<.5?"Very Low":T<.9?"Low":T<1.1?"On Track":T<2?"High":"Critical",y=T=>T<.9?"text-green-600 dark:text-green-400":T<1.1?"text-primary":T<2?"text-yellow-600 dark:text-yellow-400":"text-destructive",I=N(l),B=y(l),L=N(a),U=y(a);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:[e.jsx(j,{children:e.jsxs(b,{className:"pt-6",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Budget Consumed"}),e.jsx("p",{className:"text-2xl font-bold",children:v(d)}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["of ",v(i)," (",u.toFixed(1),"%)"]})]}),e.jsx("div",{className:"rounded-full p-2 bg-destructive/10",children:e.jsx(Xe,{className:"h-5 w-5 text-destructive"})})]}),e.jsx(Te,{value:Math.min(100,u),className:"mt-4 h-2","aria-label":"Budget consumed percentage"})]})}),e.jsx(j,{children:e.jsxs(b,{className:"pt-6",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Budget Remaining"}),e.jsx("p",{className:k("text-2xl font-bold",o<=0&&"text-destructive"),children:v(o)}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[p," days left in period"]})]}),e.jsx("div",{className:"rounded-full p-2 bg-primary/10",children:e.jsx(ze,{className:"h-5 w-5 text-primary"})})]}),e.jsx("div",{className:"mt-4 flex items-center text-sm text-muted-foreground",children:e.jsxs("span",{children:["Day ",c," of ",t.periodDays]})})]})}),e.jsx(j,{children:e.jsxs(b,{className:"pt-6",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Current Burn Rate"}),e.jsxs("p",{className:k("text-2xl font-bold",B),children:[l.toFixed(1),"x"]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[I,l>1?" (faster than sustainable)":" burn rate"]})]}),e.jsx("div",{className:k("rounded-full p-2",l<1.1?"bg-green-500/10":"bg-yellow-500/10"),children:l>1?e.jsx(He,{className:k("h-5 w-5",B)}):e.jsx(Ge,{className:"h-5 w-5 text-green-600 dark:text-green-400"})})]}),e.jsxs("p",{className:"mt-4 text-xs text-muted-foreground",children:["Consuming ",v(t.burnRate),"/day (sustainable:"," ",v(t.sustainableRate),"/day)"]})]})}),e.jsx(j,{className:k("sm:col-span-2 lg:col-span-3",g?"border-green-500/50":"border-destructive/50"),children:e.jsx(b,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:k("rounded-full p-3",g?"bg-green-500/10":"bg-destructive/10"),children:g?e.jsx(V,{className:"h-6 w-6 text-green-600 dark:text-green-400"}):e.jsx(Z,{className:"h-6 w-6 text-destructive"})}),e.jsxs("div",{children:[e.jsx("p",{className:k("text-lg font-semibold",g?"text-green-600 dark:text-green-400":"text-destructive"),children:g?"On Track":"At Risk"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:g?"At current burn rate, you'll have budget remaining at end of period":h?e.jsxs(e.Fragment,{children:["Projected to exhaust budget on"," ",e.jsx("span",{className:"font-medium text-foreground",children:h.toLocaleDateString("en-US",{month:"long",day:"numeric"})})]}):"Budget already exhausted"})]})]})})})]}),e.jsx(ts,{data:D,daysElapsed:c,isOnTrack:x.isOnTrack,compact:!1,title:"Budget Burndown"}),e.jsxs(j,{children:[e.jsxs(S,{className:"pb-4",children:[e.jsx(C,{as:"h2",className:"text-base",children:"Burn Rate Simulator"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Drag to explore different burn rates. 1x tracks the ideal line (budget reaches 0 at period end)."})]}),e.jsxs(b,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"space-y-1",children:e.jsx(O,{htmlFor:"burn-rate-slider",className:"text-sm font-medium",children:"Multiplier"})}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:k("text-2xl font-bold tabular-nums",U),children:[a.toFixed(1),"x"]}),e.jsx("p",{className:k("text-xs",U),children:L})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{id:"burn-rate-slider",value:[a],onValueChange:([T])=>r(T),min:G,max:Q,step:.1,className:"w-full"}),e.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[e.jsxs("span",{children:[G,"x"]}),e.jsxs("span",{children:[(G+Q)/2,"x"]}),e.jsxs("span",{children:[Q,"x"]})]})]}),e.jsx("div",{className:k("rounded-lg p-4 mt-4",x.isOnTrack?"bg-green-500/10":"bg-destructive/10"),children:e.jsxs("div",{className:"flex items-center gap-3",children:[x.isOnTrack?e.jsx(V,{className:"h-5 w-5 text-green-600 dark:text-green-400 shrink-0"}):e.jsx(Z,{className:"h-5 w-5 text-destructive shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:k("font-medium",x.isOnTrack?"text-green-600 dark:text-green-400":"text-destructive"),children:x.isOnTrack?"On Track":"Budget Exhausted"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:x.isOnTrack?e.jsxs(e.Fragment,{children:["At ",a.toFixed(1),"x, you'll use"," ",e.jsxs("span",{className:"font-medium text-foreground",children:[x.percentConsumedAtEnd.toFixed(0),"%"]})," ","of budget by end of period"]}):x.exhaustionDate?e.jsxs(e.Fragment,{children:["At ",a.toFixed(1),"x, budget exhausted in"," ",e.jsxs("span",{className:"font-medium text-foreground",children:[Math.ceil(x.daysUntilExhaustion)," days"]})," ","(",x.exhaustionDate.toLocaleDateString("en-US",{month:"short",day:"numeric"}),")"]}):"Budget already exhausted"})]})]})})]})]})]})}const as=["achievable","target","burndown"],ns=[{value:"achievable",label:"What can I achieve?",mobileLabel:"Achievable"},{value:"target",label:"Can I meet this SLO?",mobileLabel:"Target"},{value:"burndown",label:"Budget Burndown",mobileLabel:"Burndown"}],R=0,P=99.999,_=0,$=20;function rs(){const t=new Date;return ie(new Date(t.getFullYear(),t.getMonth(),1))}function z(t){const s=t.get("slo"),n=t.get("mode"),a=t.get("incidents"),r=t.get("period");let i=null;if(s){const l=parseFloat(s);isNaN(l)||(i=Math.min(P,Math.max(R,l)))}let d=null;n&&as.includes(n)&&(d=n);let o=null;if(a){const l=parseInt(a,10);isNaN(l)||(o=Math.min($,Math.max(_,l)))}let u=null;return r&&["monthly","quarterly","yearly"].includes(r)&&(u=r),{slo:i,mode:d,incidents:o,period:u}}const is={alertLatencyMin:!0,acknowledgeMin:!0,travelMin:!1,authMin:!0,diagnoseMin:!0,fixMin:!0};function Ps(){const[t]=Qe(),[s,n]=f.useState(()=>z(t).mode??"achievable"),[a,r]=f.useState(()=>{const m=z(t);return{target:m.slo??99.9,period:m.period??"monthly",startDate:rs()}}),[i,d]=f.useState(Ot),[o,u]=f.useState(is),[l,h]=f.useState(()=>z(t).incidents??1),[g,c]=f.useState(!1),[p,x]=f.useState(a.target.toString()),[D,N]=f.useState(l.toString());f.useEffect(()=>{const m=z(t);m.slo!==null&&r(M=>({...M,target:m.slo})),m.mode!==null&&n(m.mode),m.incidents!==null&&h(m.incidents),m.period!==null&&r(M=>({...M,period:m.period}))},[t]),f.useEffect(()=>{x(a.target.toString())},[a.target]),f.useEffect(()=>{N(l.toString())},[l]);const y=(m,M)=>{d(w=>({...w,[m]:M}))},I=m=>{u(M=>({...M,[m]:!M[m]}))},B=m=>{const M=m.target.value;x(M);const w=parseFloat(M);!isNaN(w)&&w>=R&&w<=P&&r(Fe=>({...Fe,target:w}))},L=()=>{const m=parseFloat(p);let M;isNaN(m)||m<R?(M=R,x(R.toString()),r(w=>({...w,target:R}))):m>P?(M=P,x(P.toString()),r(w=>({...w,target:P}))):(M=m,x(m.toString())),H({tool_name:"slo_calculator",action:"calculate",event_label:M.toString()})},U=m=>{const M=m.target.value;N(M);const w=parseInt(M,10);!isNaN(w)&&w>=_&&w<=$&&h(w)},T=()=>{const m=parseInt(D,10);isNaN(m)||m<_?(N(_.toString()),h(_)):m>$?(N($.toString()),h($)):N(m.toString())},ue=Et(i,o),q=Ft(ue,l,a.period),Pe=$t(ue,a.target,l,a.period),me=f.useMemo(()=>Kt(q.mttrMinutes,l,a.startDate,re[a.period]),[q.mttrMinutes,l,a.startDate,a.period]),Ae=Yt(a,me);return e.jsx("div",{className:"space-y-6",children:e.jsxs(Ze,{value:s,onValueChange:m=>{n(m),H({tool_name:"slo_calculator",action:"tab_switch",event_label:m})},children:[e.jsx(Je,{items:ns,value:s,onValueChange:m=>{n(m),H({tool_name:"slo_calculator",action:"tab_switch",event_label:m})},tabsListClassName:"grid w-full grid-cols-3",triggerClassName:"text-xs sm:text-sm"}),e.jsxs("div",{className:"mt-6 space-y-6",children:[s==="achievable"?e.jsxs("div",{className:"space-y-6",children:[e.jsx(Se,{profile:i,enabledPhases:o,onChange:y,onToggle:I}),e.jsx(Ce,{value:l,onChange:h,period:a.period})]}):e.jsx(Be,{open:g,onOpenChange:c,children:e.jsx(j,{children:e.jsxs(b,{className:"pt-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-end gap-4",children:[e.jsxs("div",{className:"flex-1 space-y-1.5",children:[e.jsx(O,{htmlFor:"compact-slo",className:"text-sm font-medium",children:"SLO Target"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ae,{id:"compact-slo",type:"text",inputMode:"decimal",value:p,onChange:B,onBlur:L,className:"w-24 h-9 font-mono tabular-nums text-right pr-1"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"%"})]})]}),e.jsxs("div",{className:"flex-1 space-y-1.5",children:[e.jsxs(O,{htmlFor:"compact-incidents",className:"text-sm font-medium",children:["Incidents / ",E[a.period].toLowerCase()]}),e.jsx(ae,{id:"compact-incidents",type:"text",inputMode:"numeric",value:D,onChange:U,onBlur:T,className:"w-24 h-9 font-mono tabular-nums text-right"})]}),e.jsxs("div",{className:"flex-1 text-sm text-muted-foreground",children:[e.jsx("span",{className:"font-medium text-foreground",children:v(de(a.target,a.period))})," ","error budget"]}),e.jsx(Oe,{asChild:!0,children:e.jsxs("button",{type:"button",className:"flex items-center gap-1 text-sm text-muted-foreground hover:text-foreground transition-colors shrink-0","aria-expanded":g,children:[e.jsx("span",{children:g?"Less options":"More options"}),e.jsx(Ie,{className:`h-4 w-4 transition-transform duration-200 ${g?"rotate-180":""}`})]})})]}),e.jsx(Le,{className:"overflow-hidden data-[state=open]:animate-collapsible-down data-[state=closed]:animate-collapsible-up",children:e.jsx("div",{className:"pt-6 mt-6 border-t space-y-6",children:e.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[e.jsx(zt,{config:a,onChange:r}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(Se,{profile:i,enabledPhases:o,onChange:y,onToggle:I}),e.jsx(Ce,{value:l,onChange:h,period:a.period})]})]})})})]})})}),e.jsx(te,{value:"achievable",className:"mt-0 space-y-6",children:e.jsx(Zt,{result:q,period:a.period})}),e.jsx(te,{value:"target",className:"mt-0 space-y-6",children:e.jsx(Jt,{result:Pe,achievableResult:q,period:a.period})}),e.jsx(te,{value:"burndown",className:"mt-0",children:e.jsx(ss,{calculation:Ae,config:a,incidents:me})})]})]})})}export{Ps as default};
