import{r as o,j as e,L as P,i as H,H as E,at as L}from"./vendor-DeyLhXpq.js";import{C as R,a as $,b as M,T as z,d as O,e as V,B as q,m as w,s as W,n as U,P as G,F as J}from"./index-C80gN8Bw.js";import{I as K}from"./input-YB48jCN_.js";import{S as N,a as C,b as S,c as B,d as c}from"./select-CdX-EdLH.js";import{T as Q}from"./TagList-BKp522xt.js";import{F as X}from"./FeaturedHero-BvkCZ1PH.js";import{a as Y}from"./index-pVHqBa-9.js";import"./monitoring-C74x5Iy6.js";import"./ui-BQCqNqg0.js";import"./theme-CfHJhC9-.js";function j(s,t){if(typeof window>"u"||typeof window.gtag!="function")return;const n=()=>{window.gtag?.("event",s,t)};"requestIdleCallback"in window?window.requestIdleCallback(n,{timeout:2e3}):setTimeout(n,0)}const Z=o.memo(function({post:t}){const[n,r]=o.useState(!1),i=()=>{n||(j("blog_card_expand",{event_category:"engagement",event_label:t.slug}),r(!0))};return e.jsx("article",{className:"relative group",onMouseEnter:i,onFocus:i,children:e.jsxs(R,{className:"transition-all duration-300 bg-zinc-50 dark:bg-zinc-800/40 group-hover:shadow-lg group-hover:border-primary/50 group-focus-within:shadow-lg group-focus-within:border-primary/50 h-full",children:[e.jsxs($,{className:"pb-3",children:[e.jsx(M,{className:"text-xl group-hover:text-primary group-focus-within:text-primary transition-colors",style:{viewTransitionName:`blog-title-${t.slug}`},children:e.jsx(z,{to:`/blog/${t.slug}`,className:"after:absolute after:inset-0 after:content-[''] focus:outline-hidden",children:t.title})}),e.jsxs(O,{className:"flex items-center gap-2 text-sm",children:[e.jsx(P,{to:`/blog?author=${t.author}`,className:"relative z-10 hover:text-primary hover:underline transition-colors",children:t.author}),e.jsx("span",{children:"•"}),e.jsx("time",{dateTime:t.date,children:new Date(t.date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}),e.jsx("span",{children:"•"}),e.jsx("span",{children:t.readingTime})]}),e.jsx("div",{className:"pt-2",children:e.jsx(Q,{tags:t.tags,variant:"outline",size:"sm"})})]}),e.jsx(V,{className:"pt-0",children:e.jsx("div",{className:`overflow-hidden transition-all duration-300 ease-out motion-reduce:transition-none
                          ${n?"max-h-24 opacity-100":"max-h-24 opacity-100 [@media(hover:hover)]:max-h-0 [@media(hover:hover)]:opacity-0"}`,children:e.jsx("p",{className:"text-muted-foreground text-sm leading-relaxed",children:t.description})})})]})})},(s,t)=>s.post.slug===t.post.slug);function T(s,t="desc"){return[...s].sort((n,r)=>{const i=new Date(n.date).getTime(),l=new Date(r.date).getTime();return t==="desc"?l-i:i-l})}function D(s,t="desc"){return[...s].sort((n,r)=>{const i=parseInt(n.readingTime)||0,l=parseInt(r.readingTime)||0;return t==="desc"?l-i:i-l})}function ee(s,t){return t.length===0?s:s.filter(n=>t.some(r=>n.tags.includes(r)))}function te(s,t){const n=t.toLowerCase();return s.filter(r=>r.title.toLowerCase().includes(n)||r.description.toLowerCase().includes(n))}function ae(s){const t=new Set;return s.forEach(n=>n.tags.forEach(r=>t.add(r))),Array.from(t).sort()}function se({posts:s}){const[t,n]=H(),[r,i]=o.useState(""),[l,x]=o.useState([]),[d,f]=o.useState("all"),[u,A]=o.useState("newest"),[_,p]=o.useState(!1),h=o.useRef(null);o.useEffect(()=>{const a=t.get("author");f(a==="Claude"||a==="Dylan"?a:"all")},[t]);const b=a=>{p(!0),f(a),a==="all"?t.delete("author"):t.set("author",a),n(t)},y=o.useMemo(()=>ae(s),[s]),g=o.useMemo(()=>{let a=s;switch(r&&(a=te(a,r)),l.length>0&&(a=ee(a,l)),d!=="all"&&(a=a.filter(m=>m.author===d)),u){case"oldest":return T(a,"asc");case"longest":return D(a,"desc");case"shortest":return D(a,"asc");default:return T(a,"desc")}},[s,r,l,d,u]),k=a=>{p(!0),x(m=>{const v=m.includes(a);return v||(h.current=a),v?m.filter(I=>I!==a):[...m,a]})};o.useEffect(()=>{h.current&&(j("tag_filter_click",{event_category:"engagement",event_label:h.current}),h.current=null)},[l]);const F=()=>{r&&j("blog_search",{event_category:"engagement",event_label:r})};return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx(K,{type:"search",placeholder:"Search posts...",value:r,onChange:a=>{i(a.target.value),p(!0)},onBlur:F,className:"max-w-md"}),e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[y.length>0&&e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Filter by tag:"}),y.map(a=>e.jsx(q,{variant:l.includes(a)?"default":"outline-solid",className:"cursor-pointer hover:bg-primary/10",onClick:()=>k(a),children:a},a)),l.length>0&&e.jsx("button",{onClick:()=>x([]),className:"text-sm text-muted-foreground hover:text-foreground ml-2",children:"Clear"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Author:"}),e.jsxs(N,{value:d,onValueChange:b,children:[e.jsx(C,{className:"w-[120px]","aria-label":"Filter by author",children:e.jsx(S,{})}),e.jsxs(B,{children:[e.jsx(c,{value:"all",children:"All"}),e.jsx(c,{value:"Claude",children:"Claude"}),e.jsx(c,{value:"Dylan",children:"Dylan"})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Sort:"}),e.jsxs(N,{value:u,onValueChange:a=>A(a),children:[e.jsx(C,{className:"w-[150px]","aria-label":"Sort posts by",children:e.jsx(S,{})}),e.jsxs(B,{children:[e.jsx(c,{value:"newest",children:"Newest First"}),e.jsx(c,{value:"oldest",children:"Oldest First"}),e.jsx(c,{value:"longest",children:"Longest First"}),e.jsx(c,{value:"shortest",children:"Shortest First"})]})]})]})]})]}),e.jsx("div",{role:"status","aria-live":"polite",className:"sr-only",children:_&&`${g.length} ${g.length===1?"post":"posts"} found`}),g.length>0?e.jsx(w.div,{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",variants:W,initial:"hidden",animate:"visible",children:g.map(a=>e.jsx(w.div,{variants:U,children:e.jsx(Z,{post:a})},a.slug))},`${r}-${l.join(",")}-${d}-${u}`):e.jsxs("div",{className:"text-center py-12",role:"status",children:[e.jsx("p",{className:"text-muted-foreground",children:"No posts found matching your criteria."}),(r||l.length>0||d!=="all")&&e.jsx("button",{onClick:()=>{i(""),x([]),b("all")},className:"mt-2 text-sm text-primary hover:underline",children:"Clear filters"})]})]})}function ge(){const s=Y(),t=o.useMemo(()=>s.find(r=>r.featured),[s]),n=o.useMemo(()=>s.filter(r=>!r.featured),[s]);return e.jsxs(e.Fragment,{children:[e.jsxs(E,{children:[e.jsx("title",{children:"Blog - Dylan Bochman & Claude"}),e.jsx("meta",{name:"description",content:"A collaborative blog by Dylan Bochman and Claude. Honest reflections on reliability, web development, and building software together."}),e.jsx("meta",{name:"keywords",content:"SRE Blog, AI Collaboration, Incident Management, DevOps, System Reliability, Technical Writing, Human-AI Development"}),e.jsx("meta",{property:"og:type",content:"website"}),e.jsx("meta",{property:"og:url",content:"https://dylanbochman.com/blog"}),e.jsx("meta",{property:"og:title",content:"Blog - Dylan Bochman & Claude"}),e.jsx("meta",{property:"og:description",content:"A collaborative blog by Dylan Bochman and Claude. Honest reflections on reliability, web development, and building software together."}),e.jsx("meta",{property:"og:image",content:"https://dylanbochman.com/social-preview.webp"}),e.jsx("meta",{property:"og:site_name",content:"Dylan Bochman"}),e.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),e.jsx("meta",{name:"twitter:url",content:"https://dylanbochman.com/blog"}),e.jsx("meta",{name:"twitter:title",content:"Blog - Dylan Bochman & Claude"}),e.jsx("meta",{name:"twitter:description",content:"A collaborative blog by Dylan Bochman and Claude. Honest reflections on reliability, web development, and building software together."}),e.jsx("meta",{name:"twitter:image",content:"https://dylanbochman.com/social-preview.webp"}),e.jsx("link",{rel:"canonical",href:"https://dylanbochman.com/blog"})]}),e.jsx(G,{children:e.jsxs("div",{className:"container mx-auto px-4 py-12",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-12",children:[e.jsxs("header",{children:[e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("h1",{className:"text-4xl font-bold text-balance",style:{viewTransitionName:"page-title"},children:"Blog"}),e.jsx("a",{href:"/rss.xml",target:"_blank",rel:"noopener noreferrer",className:"text-muted-foreground hover:text-orange-500 focus-visible:text-orange-500 transition-colors",title:"Subscribe via RSS","aria-label":"RSS Feed",children:e.jsx(L,{className:"w-6 h-6","aria-hidden":"true"})})]}),e.jsxs("p",{className:"text-xl text-muted-foreground text-pretty mb-4",children:["A collaboration between Dylan and"," ",e.jsx("a",{href:"https://claude.ai/",target:"_blank",rel:"noopener noreferrer",className:"text-foreground hover:underline focus-visible:underline",children:"Claude"}),"."]}),e.jsx("p",{className:"text-muted-foreground text-pretty",children:"We write about practical SRE themes—reliability, resilience, and observability—along with the systems we build together and the lessons we learn along the way. Some posts are written by Claude, some by me. The authorship varies, but the collaboration is constant."})]}),t&&e.jsx(X,{post:t})]}),e.jsx(se,{posts:n}),e.jsx("div",{className:"mt-16",children:e.jsx(J,{})})]})})]})}export{ge as default};
