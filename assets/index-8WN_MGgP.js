import{j as e,r as N,t as he,g as ue}from"./vendor-DeyLhXpq.js";import{S as xe,a as fe,b as ke,c as pe,d as be}from"./select-CdX-EdLH.js";import{C as U,a as H,b as E,e as z}from"./index-C80gN8Bw.js";import{t as ye}from"./trackToolEvent-dYL5XBH_.js";import"./monitoring-C74x5Iy6.js";import"./ui-BQCqNqg0.js";import"./theme-CfHJhC9-.js";function Z(s){const t=[];for(let r=0;r<7;r++){const c=[];for(let n=0;n<24;n++){const{covered:a,members:l}=s(r,n);c.push({hourUtc:n,dayOfWeek:r,covered:a,coveringMembers:l})}t.push(c)}return t}function P(s,t,r=0){return s[(t+r)%s.length]}const we={id:"follow-the-sun",name:"Follow-the-Sun (3 Regions)",description:"Three regional teams hand off coverage during business hours. Zero night shifts - the healthiest model for distributed teams.",rotationType:"daily",team:[{name:"Alex (US)",timezone:"America/New_York",region:"US",workingHours:"9am-5pm ET (14-22 UTC)",hoursPerWeek:20,nightHours:0,weekendHours:4},{name:"Jordan (US)",timezone:"America/New_York",region:"US",workingHours:"9am-5pm ET (14-22 UTC)",hoursPerWeek:20,nightHours:0,weekendHours:4},{name:"Emma (EU)",timezone:"Europe/London",region:"EU",workingHours:"9am-5pm GMT (9-17 UTC)",hoursPerWeek:20,nightHours:0,weekendHours:4},{name:"Liam (EU)",timezone:"Europe/London",region:"EU",workingHours:"9am-5pm GMT (9-17 UTC)",hoursPerWeek:20,nightHours:0,weekendHours:4},{name:"Yuki (APAC)",timezone:"Asia/Tokyo",region:"APAC",workingHours:"9am-5pm JST (0-8 UTC)",hoursPerWeek:20,nightHours:0,weekendHours:4},{name:"Hana (APAC)",timezone:"Asia/Tokyo",region:"APAC",workingHours:"9am-5pm JST (0-8 UTC)",hoursPerWeek:20,nightHours:0,weekendHours:4}],coverage:Z((s,t)=>{const r=s>=1&&s<=5,c=["Yuki (APAC)","Hana (APAC)"],n=["Emma (EU)","Liam (EU)"],a=["Alex (US)","Jordan (US)"],l=P(c,s),u=P(c,s,1),h=P(n,s),k=P(n,s,1),b=P(a,s),x=P(a,s,1);if(t>=0&&t<8)return{covered:!0,members:[l,u]};if(t===8)return{covered:!0,members:[l,h]};if(t>=9&&t<14)return{covered:!0,members:[h,k]};if(t>=14&&t<17)return{covered:!0,members:[h,b]};if(t>=17&&t<22)return{covered:!0,members:[b,x]};if(t>=22&&t<24)return{covered:!0,members:[b,l]};if(!r){const d=[...c,...n,...a],f=P(d,s),i=P(d,s,1);return{covered:!0,members:[f,i]}}return{covered:!1,members:[]}}),metrics:{coveragePercent:100,nightHoursPerPerson:0,weekendHoursPerPerson:8,hoursPerWeekPerPerson:28,teamSize:6,shiftLength:"8h",rotation:"Daily handoffs between regions",onCallFrequency:"Every other day (within region)",handoffsPerWeek:21},tradeoffs:{pros:["Zero night shifts - everyone works business hours only","Fastest response - always someone awake and alert","Most sustainable for long-term team health","Natural overlap windows enable smooth handoffs","Primary + secondary redundancy within each shift"],cons:["Requires distributed team across 3 time zones","More handoffs (3/day) increases coordination needs","Weekend coverage rotated across all members","Communication overhead across regions"]}},je={id:"weekly-rotation",name:"Weekly Rotation (8-person)",description:"Primary + secondary each week, rotating through 8 team members. Secondary provides escalation backup and shadows before becoming primary.",rotationType:"weekly",rotationWeeks:8,team:[{name:"Alex",timezone:"America/New_York",region:"Single",workingHours:"Week 1 Primary, Week 8 Secondary",hoursPerWeek:42,nightHours:14,weekendHours:12},{name:"Jordan",timezone:"America/New_York",region:"Single",workingHours:"Week 2 Primary, Week 1 Secondary",hoursPerWeek:42,nightHours:14,weekendHours:12},{name:"Taylor",timezone:"America/New_York",region:"Single",workingHours:"Week 3 Primary, Week 2 Secondary",hoursPerWeek:42,nightHours:14,weekendHours:12},{name:"Morgan",timezone:"America/New_York",region:"Single",workingHours:"Week 4 Primary, Week 3 Secondary",hoursPerWeek:42,nightHours:14,weekendHours:12},{name:"Casey",timezone:"America/New_York",region:"Single",workingHours:"Week 5 Primary, Week 4 Secondary",hoursPerWeek:42,nightHours:14,weekendHours:12},{name:"Riley",timezone:"America/New_York",region:"Single",workingHours:"Week 6 Primary, Week 5 Secondary",hoursPerWeek:42,nightHours:14,weekendHours:12},{name:"Quinn",timezone:"America/New_York",region:"Single",workingHours:"Week 7 Primary, Week 6 Secondary",hoursPerWeek:42,nightHours:14,weekendHours:12},{name:"Avery",timezone:"America/New_York",region:"Single",workingHours:"Week 8 Primary, Week 7 Secondary",hoursPerWeek:42,nightHours:14,weekendHours:12}],coverage:Z(()=>({covered:!0,members:["Alex","Jordan"]})),metrics:{coveragePercent:100,nightHoursPerPerson:14,weekendHoursPerPerson:12,hoursPerWeekPerPerson:42,teamSize:8,shiftLength:"168h (full week)",rotation:"Weekly (Primary + Secondary)",onCallFrequency:"1 week primary + 1 week secondary every 8 weeks",handoffsPerWeek:1},tradeoffs:{pros:["Built-in escalation path for complex incidents","Secondary shadows before becoming primary","Clear accountability with safety net","Only 1 handoff/week minimizes miscommunication"],cons:["Two people committed each week (primary + secondary)","On-call week includes nights and weekends","Higher total burden than single-person rotation","Requires clear primary vs secondary responsibilities"]}},ve={id:"12-hour-shifts",name:"APAC + US West (12h)",description:"Two 12-hour shifts with APAC (11am-11pm Tokyo) and US West (6am-6pm LA). Nearly opposite timezones mean both teams work reasonable daytime hours.",rotationType:"shift",team:[{name:"Yuki (APAC)",timezone:"Asia/Tokyo",region:"APAC",workingHours:"11am-11pm JST (02-14 UTC)",hoursPerWeek:28,nightHours:0,weekendHours:4},{name:"Hana (APAC)",timezone:"Asia/Tokyo",region:"APAC",workingHours:"11am-11pm JST (02-14 UTC)",hoursPerWeek:28,nightHours:0,weekendHours:4},{name:"Kenji (APAC)",timezone:"Asia/Tokyo",region:"APAC",workingHours:"11am-11pm JST (02-14 UTC)",hoursPerWeek:28,nightHours:0,weekendHours:4},{name:"Sakura (APAC)",timezone:"Asia/Tokyo",region:"APAC",workingHours:"11am-11pm JST (02-14 UTC)",hoursPerWeek:28,nightHours:0,weekendHours:4},{name:"Ren (APAC)",timezone:"Asia/Tokyo",region:"APAC",workingHours:"11am-11pm JST (02-14 UTC)",hoursPerWeek:28,nightHours:0,weekendHours:4},{name:"Aoi (APAC)",timezone:"Asia/Tokyo",region:"APAC",workingHours:"11am-11pm JST (02-14 UTC)",hoursPerWeek:28,nightHours:0,weekendHours:4},{name:"Alex (US)",timezone:"America/Los_Angeles",region:"US",workingHours:"6am-6pm PT (14-02 UTC)",hoursPerWeek:28,nightHours:0,weekendHours:4},{name:"Jordan (US)",timezone:"America/Los_Angeles",region:"US",workingHours:"6am-6pm PT (14-02 UTC)",hoursPerWeek:28,nightHours:0,weekendHours:4},{name:"Taylor (US)",timezone:"America/Los_Angeles",region:"US",workingHours:"6am-6pm PT (14-02 UTC)",hoursPerWeek:28,nightHours:0,weekendHours:4},{name:"Morgan (US)",timezone:"America/Los_Angeles",region:"US",workingHours:"6am-6pm PT (14-02 UTC)",hoursPerWeek:28,nightHours:0,weekendHours:4},{name:"Sam (US)",timezone:"America/Los_Angeles",region:"US",workingHours:"6am-6pm PT (14-02 UTC)",hoursPerWeek:28,nightHours:0,weekendHours:4},{name:"Jamie (US)",timezone:"America/Los_Angeles",region:"US",workingHours:"6am-6pm PT (14-02 UTC)",hoursPerWeek:28,nightHours:0,weekendHours:4}],coverage:Z((s,t)=>{const r=["Yuki (APAC)","Hana (APAC)","Kenji (APAC)","Sakura (APAC)","Ren (APAC)","Aoi (APAC)"],c=["Alex (US)","Jordan (US)","Taylor (US)","Morgan (US)","Sam (US)","Jamie (US)"];if(t>=2&&t<14){const l=P(r,s),u=P(r,s,3);return{covered:!0,members:[l,u]}}const n=P(c,s),a=P(c,s,3);return{covered:!0,members:[n,a]}}),metrics:{coveragePercent:100,nightHoursPerPerson:0,weekendHoursPerPerson:4,hoursPerWeekPerPerson:28,teamSize:12,shiftLength:"12h",rotation:"Regional shifts with rotating primary/backup",onCallFrequency:"~2 shifts/week within region",handoffsPerWeek:14},tradeoffs:{pros:["Zero night shifts - both teams work daytime hours","Clean 12h handoff with no gaps","12h shifts balance continuity vs. fatigue","Primary + backup ensures escalation path"],cons:["Requires teams in APAC and US West specifically","Slightly shifted hours (11am-11pm Tokyo, 6am-6pm LA)","Larger team size required (12 people)","Communication across 17-hour timezone gap"]}},Ne={id:"business-hours",name:"US Daytime + Rotating On-Call",description:"24/7 coverage with Primary + Secondary during US business hours (9am ET - 5pm PT), Primary only for nights and weekends.",rotationType:"daily",team:[{name:"Alex (ET)",timezone:"America/New_York",region:"US",workingHours:"Primary 9am-2pm ET (14-19 UTC) + rotating nights/weekends",hoursPerWeek:28,nightHours:10,weekendHours:8},{name:"Jordan (ET)",timezone:"America/New_York",region:"US",workingHours:"Primary 9am-2pm ET (14-19 UTC) + rotating nights/weekends",hoursPerWeek:28,nightHours:10,weekendHours:8},{name:"Taylor (ET)",timezone:"America/New_York",region:"US",workingHours:"Primary 9am-2pm ET (14-19 UTC) + rotating nights/weekends",hoursPerWeek:28,nightHours:10,weekendHours:8},{name:"Morgan (PT)",timezone:"America/Los_Angeles",region:"US",workingHours:"Primary 11am-5pm PT (19-01 UTC) + rotating nights/weekends",hoursPerWeek:28,nightHours:10,weekendHours:8},{name:"Casey (PT)",timezone:"America/Los_Angeles",region:"US",workingHours:"Primary 11am-5pm PT (19-01 UTC) + rotating nights/weekends",hoursPerWeek:28,nightHours:10,weekendHours:8},{name:"Riley (PT)",timezone:"America/Los_Angeles",region:"US",workingHours:"Primary 11am-5pm PT (19-01 UTC) + rotating nights/weekends",hoursPerWeek:28,nightHours:10,weekendHours:8}],coverage:Z((s,t)=>{const r=s>=1&&s<=5,c=["Alex (ET)","Jordan (ET)","Taylor (ET)"],n=["Morgan (PT)","Casey (PT)","Riley (PT)"],a=["Alex (ET)","Morgan (PT)","Jordan (ET)","Casey (PT)","Taylor (ET)","Riley (PT)"],l=c[s%c.length],u=n[s%n.length],h=a[s%a.length];if(r&&(t>=14||t<1)){if(t>=14&&t<17)return{covered:!0,members:[l,h!==l?h:u]};if(t>=17&&t<19)return{covered:!0,members:[l,u]};if(t>=19&&t<22)return{covered:!0,members:[u,l]};if(t>=22||t<1)return{covered:!0,members:[u,h!==u?h:l]}}return{covered:!0,members:[h]}}),metrics:{coveragePercent:100,nightHoursPerPerson:10,weekendHoursPerPerson:8,hoursPerWeekPerPerson:28,teamSize:6,shiftLength:"8h business + rotating on-call",rotation:"Daily rotation, coast-based during business hours",onCallFrequency:"~5 days per week (mix of business + on-call)",handoffsPerWeek:14},tradeoffs:{pros:["24/7 coverage for all incidents","Enhanced coverage (Primary + Secondary) during peak hours","Off-hours incidents get immediate response","Balanced burden across team"],cons:["Everyone takes some night/weekend on-call","Off-hours have reduced redundancy (no secondary)","Requires staff on both coasts","Higher overall on-call burden than business-hours-only"]}},q=[we,je,ve,Ne];function Se(s){return q.find(t=>t.id===s)}const se=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],K={US:{bg:"bg-emerald-700",text:"text-emerald-700"},EU:{bg:"bg-rose-600",text:"text-rose-600"},APAC:{bg:"bg-violet-600",text:"text-violet-600"},Single:{bg:"bg-purple-600",text:"text-purple-600"}},G=[{bg:"bg-emerald-200 dark:bg-emerald-800",strip:"bg-emerald-600 dark:bg-emerald-600",text:"text-emerald-800 dark:text-emerald-200"},{bg:"bg-rose-200 dark:bg-rose-800",strip:"bg-rose-600 dark:bg-rose-600",text:"text-rose-800 dark:text-rose-200"},{bg:"bg-violet-200 dark:bg-violet-800",strip:"bg-violet-600 dark:bg-violet-600",text:"text-violet-800 dark:text-violet-200"},{bg:"bg-amber-200 dark:bg-amber-800",strip:"bg-amber-600 dark:bg-amber-600",text:"text-amber-800 dark:text-amber-200"},{bg:"bg-sky-200 dark:bg-sky-800",strip:"bg-sky-600 dark:bg-sky-600",text:"text-sky-800 dark:text-sky-200"},{bg:"bg-pink-200 dark:bg-pink-800",strip:"bg-pink-600 dark:bg-pink-600",text:"text-pink-800 dark:text-pink-200"},{bg:"bg-teal-200 dark:bg-teal-800",strip:"bg-teal-600 dark:bg-teal-600",text:"text-teal-800 dark:text-teal-200"},{bg:"bg-orange-200 dark:bg-orange-800",strip:"bg-orange-600 dark:bg-orange-600",text:"text-orange-800 dark:text-orange-200"}],re={"Asia/Tokyo":"APAC (Tokyo)","Asia/Singapore":"APAC (Singapore)","Asia/Shanghai":"APAC (Shanghai)","Europe/London":"EU (London)","Europe/Paris":"EU (Paris)","Europe/Berlin":"EU (Berlin)","America/New_York":"US (New York)","America/Los_Angeles":"US (Los Angeles)","America/Chicago":"US (Chicago)"};function Te({coverage:s}){const t=[0,3,6,9,12,15,18,21];return e.jsxs(U,{children:[e.jsx(H,{className:"pb-2",children:e.jsx(E,{as:"h2",className:"text-base",children:"Weekly Coverage Heatmap"})}),e.jsx(z,{children:e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"w-10 shrink-0"}),e.jsx("div",{className:"flex-1 flex",children:t.map(r=>e.jsx("div",{className:"text-[10px] text-muted-foreground",style:{width:`${3/24*100}%`},children:r},r))})]}),[1,2,3,4,5,6,0].map(r=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-10 shrink-0 text-xs text-muted-foreground",children:se[r]}),e.jsx("div",{className:"flex-1 flex h-7 rounded overflow-hidden",children:s[r]?.map((c,n)=>{const a=c.coveringMembers.length;let l="bg-red-500/80";return a===1?l="bg-yellow-500/80":a>=2&&(l="bg-green-500/80"),e.jsx("div",{className:`
                        flex-1 border-r border-background/30 last:border-r-0
                        ${c.covered?l:"bg-red-500/80"}
                        transition-colors
                      `,title:`${se[r]} ${n}:00 UTC
${c.covered?`Covered by: ${c.coveringMembers.join(", ")}`:"No coverage"}`},n)})})]},r)),e.jsxs("div",{className:"flex flex-wrap items-center gap-x-4 gap-y-1 pt-3 text-xs text-muted-foreground",children:[e.jsx("span",{children:"Times in UTC"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-4 h-4 rounded bg-green-500/80"}),e.jsx("span",{children:"2+ people"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-4 h-4 rounded bg-yellow-500/80"}),e.jsx("span",{children:"1 person"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-4 h-4 rounded bg-red-500/80"}),e.jsx("span",{children:"Gap"})]})]})]})})]})}const te={"Asia/Tokyo":{bg:"bg-violet-600 dark:bg-violet-600",text:"text-white"},"Asia/Singapore":{bg:"bg-violet-600 dark:bg-violet-600",text:"text-white"},"Asia/Shanghai":{bg:"bg-violet-600 dark:bg-violet-600",text:"text-white"},"Europe/London":{bg:"bg-rose-600 dark:bg-rose-600",text:"text-white"},"Europe/Paris":{bg:"bg-rose-600 dark:bg-rose-600",text:"text-white"},"Europe/Berlin":{bg:"bg-rose-600 dark:bg-rose-600",text:"text-white"},"America/New_York":{bg:"bg-emerald-700 dark:bg-emerald-600",text:"text-white"},"America/Los_Angeles":{bg:"bg-sky-600 dark:bg-sky-600",text:"text-white"},"America/Chicago":{bg:"bg-emerald-700 dark:bg-emerald-600",text:"text-white"}},ne={"Asia/Tokyo":"APAC (Tokyo)","Asia/Singapore":"APAC (Singapore)","Asia/Shanghai":"APAC (Shanghai)","Europe/London":"EU (London)","Europe/Paris":"EU (Paris)","Europe/Berlin":"EU (Berlin)","America/New_York":"US East (ET)","America/Los_Angeles":"US West (PT)","America/Chicago":"US Central (CT)"},V={day:{bg:"bg-amber-600 dark:bg-amber-600",text:"text-white"},night:{bg:"bg-indigo-600 dark:bg-indigo-600",text:"text-white"}};function X(s){return`${s.toString().padStart(2,"0")}:00`}const Q=new Map;function Pe(s){return Q.has(s)||Q.set(s,new Intl.DateTimeFormat("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1,timeZone:s})),Q.get(s)}function ae(s,t){try{const r=new Date;return r.setUTCHours(s,0,0,0),Pe(t).format(r)}catch{return X(s)}}function Ae(s){return{"America/New_York":"ET","America/Los_Angeles":"PT","America/Chicago":"CT","Europe/London":"GMT","Europe/Paris":"CET","Europe/Berlin":"CET","Asia/Tokyo":"JST","Asia/Singapore":"SGT","Asia/Shanghai":"CST"}[s]||s.split("/").pop()||""}function Ce(s){return s.filter(Boolean).join(`
`)}function ie(s){const t=s.workingHours.toLowerCase();return t.includes("rotating")?"rotating":t.includes("night shift")?"night":t.includes("day shift")?"day":null}function $e(s){return s<12?"night":"day"}function oe(s,t,r,c=!1){const n=[];let a=null;for(let l=0;l<24;l++){const h=s[l]?.coveringMembers[r]||null;let k,b;if(c&&h){const x=$e(l);k=x,b=x==="day"?"Day Shift":"Night Shift"}else{const x=h?t.get(h):null;k=x?.key||null,b=x?.label||null}a&&a.key===k?a.endHour=l+1:(a&&n.push(a),a={startHour:l,endHour:l+1,key:k,label:b})}return a&&n.push(a),n}function Ue({coverage:s,team:t,dayIndex:r=1}){const{uniqueTimezones:c,hasRotatingShifts:n,useShiftMode:a}=N.useMemo(()=>{const d=[...new Set(t.map(g=>g.timezone))],f=d.length===1,i=t.map(g=>ie(g)),y=i.some(g=>g!==null),m=i.some(g=>g==="rotating");return{uniqueTimezones:d,hasRotatingShifts:m,useShiftMode:f&&y}},[t]),{memberMap:l,legendItems:u}=N.useMemo(()=>{const d=new Map,f=[];return a?(t.forEach(i=>{const y=ie(i);if(y==="rotating")d.set(i.name,{key:"rotating",label:"Rotating"});else if(y){const m=y==="day"?"Day Shift":"Night Shift";d.set(i.name,{key:y,label:m})}}),f.push({key:"day",label:"Day Shift",colors:V.day},{key:"night",label:"Night Shift",colors:V.night})):(t.forEach(i=>{const y=i.timezone,m=ne[y]||y;d.set(i.name,{key:y,label:m})}),c.forEach(i=>{f.push({key:i,label:ne[i]||i,colors:te[i]||{bg:"bg-zinc-400"}})})),{memberMap:d,legendItems:f}},[t,a,c]),{primaryBlocks:h,secondaryBlocks:k}=N.useMemo(()=>{const d=s[r]||[];return{primaryBlocks:oe(d,l,0,a&&n),secondaryBlocks:oe(d,l,1,a&&n)}},[s,r,l,a,n]),b=N.useCallback(d=>d?a?V[d]:te[d]:null,[a]),x=N.useCallback((d,f)=>e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:f}),e.jsx("div",{className:"relative h-12 bg-zinc-200 dark:bg-zinc-700 rounded-lg overflow-hidden",children:d.map((i,y)=>{const m=(i.endHour-i.startHour)/24*100,g=i.startHour/24*100,o=b(i.key),p=i.label&&m>=20,C=i.endHour-i.startHour,S=i.key&&!["day","night","rotating"].includes(i.key),j=S&&i.key?ae(i.startHour,i.key):null,v=S&&i.key?ae(i.endHour%24,i.key):null,A=S&&i.key?Ae(i.key):null,T=Ce([`â° ${X(i.startHour)} - ${X(i.endHour)} UTC`,j&&v&&A&&`ðŸ  ${j} - ${v} ${A}`,`â±ï¸ Duration: ${C}h`,"",i.label?`ðŸ‘¤ ${i.label}`:"âš ï¸ No coverage",f==="Primary"&&"   Handles all incoming incidents",f==="Secondary"&&"   Escalation backup for primary"]);return e.jsx("div",{className:`absolute top-0 bottom-0 flex items-center justify-center ${o?.bg||"bg-zinc-300 dark:bg-zinc-600"}`,style:{left:`${g}%`,width:`${m}%`},title:T,children:p&&e.jsx("span",{className:`text-sm font-semibold ${o?.text||"text-zinc-500"} truncate px-1`,children:i.label})},y)})})]}),[b]);return e.jsxs(U,{children:[e.jsx(H,{className:"pb-3",children:e.jsx(E,{as:"h2",className:"text-base",children:"Daily Coverage (24 Hours UTC)"})}),e.jsx(z,{children:e.jsxs("div",{className:"space-y-4",children:[x(h,"Primary"),x(k,"Secondary"),e.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[e.jsx("span",{children:"0:00"}),e.jsx("span",{children:"6:00"}),e.jsx("span",{children:"12:00"}),e.jsx("span",{children:"18:00"}),e.jsx("span",{children:"24:00"})]}),e.jsx("div",{className:"flex flex-wrap items-center gap-4 pt-2 border-t text-xs",children:u.map(d=>e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:`w-3 h-3 rounded ${d.colors.bg}`}),e.jsx("span",{children:d.label})]},d.key))})]})})]})}const Y=[{bg:"bg-emerald-200 dark:bg-emerald-800",strip:"bg-emerald-600 dark:bg-emerald-600",text:"text-emerald-800 dark:text-emerald-200"},{bg:"bg-rose-200 dark:bg-rose-800",strip:"bg-rose-600 dark:bg-rose-600",text:"text-rose-800 dark:text-rose-200"},{bg:"bg-violet-200 dark:bg-violet-800",strip:"bg-violet-600 dark:bg-violet-600",text:"text-violet-800 dark:text-violet-200"},{bg:"bg-amber-200 dark:bg-amber-800",strip:"bg-amber-600 dark:bg-amber-600",text:"text-amber-800 dark:text-amber-200"},{bg:"bg-sky-200 dark:bg-sky-800",strip:"bg-sky-600 dark:bg-sky-600",text:"text-sky-800 dark:text-sky-200"},{bg:"bg-pink-200 dark:bg-pink-800",strip:"bg-pink-600 dark:bg-pink-600",text:"text-pink-800 dark:text-pink-200"},{bg:"bg-teal-200 dark:bg-teal-800",strip:"bg-teal-600 dark:bg-teal-600",text:"text-teal-800 dark:text-teal-200"},{bg:"bg-orange-200 dark:bg-orange-800",strip:"bg-orange-600 dark:bg-orange-600",text:"text-orange-800 dark:text-orange-200"}],le=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function He({coverage:s,team:t}){const r=new Map;t.forEach((l,u)=>{r.set(l.name,Y[u%Y.length])});const c=l=>l.replace(/\s*\(.*\)/,""),n=l=>{const h=(s[l]||[]).find(d=>d.covered&&d.coveringMembers.length>0),k=h?.coveringMembers[0]||null,b=h?.coveringMembers[1]||null;return{primary:k,secondary:b,hasCoverage:!!h}},a=[1,2,3,4,5,6,0];return e.jsxs(U,{children:[e.jsx(H,{className:"pb-3",children:e.jsx(E,{as:"h2",className:"text-base",children:"Weekly Coverage"})}),e.jsxs(z,{children:[e.jsx("div",{className:"grid grid-cols-7 gap-2",children:a.map(l=>{const{primary:u,secondary:h,hasCoverage:k}=n(l),b=u?r.get(u):null,x=h?r.get(h):null,d=u?c(u):null,f=h?c(h):null,i=k&&!h;return e.jsxs("div",{className:`rounded overflow-hidden flex flex-col ${k?i?"opacity-80":"":"opacity-50"}`,title:`${le[l]}${k?`
Primary: ${d}${f?`
Secondary: ${f}`:" (on-call)"}`:`
No coverage`}`,children:[e.jsx("div",{className:`text-xs font-medium text-muted-foreground text-center py-1 ${i?"bg-zinc-200 dark:bg-zinc-700":"bg-zinc-100 dark:bg-zinc-800"}`,children:le[l].slice(0,3)}),e.jsxs("div",{className:`flex-1 min-h-[60px] ${b?.bg||"bg-zinc-200 dark:bg-zinc-700"} flex flex-col items-center justify-center p-2`,children:[e.jsx("span",{className:`text-sm font-semibold truncate w-full text-center ${b?.text||"text-zinc-500 dark:text-zinc-400"}`,children:k?d:"No coverage"}),i&&e.jsx("span",{className:"text-xs opacity-75 mt-0.5",children:"on-call"})]}),x&&f&&e.jsx("div",{className:`h-7 ${x.strip} flex items-center justify-center px-1`,children:e.jsx("span",{className:"text-xs font-medium text-white dark:text-zinc-900 truncate",children:f})})]},l)})}),e.jsxs("div",{className:"flex flex-wrap items-center gap-x-4 gap-y-2 pt-4 border-t mt-4 text-xs",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex flex-col w-4 h-5 rounded overflow-hidden",children:[e.jsx("div",{className:"flex-1 bg-zinc-300 dark:bg-zinc-600"}),e.jsx("div",{className:"h-1.5 bg-zinc-500 dark:bg-zinc-400"})]}),e.jsx("span",{className:"text-muted-foreground",children:"Primary / Secondary"})]}),e.jsx("div",{className:"h-4 border-l border-zinc-300 dark:border-zinc-600"}),t.slice(0,8).map((l,u)=>{const h=Y[u%Y.length],k=c(l.name);return e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:`w-3 h-3 rounded ${h.bg}`}),e.jsx("span",{children:k})]},l.name)})]})]})]})}const Ee=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],ce=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"];function de(s){return s.filter(Boolean).join(`
`)}function ze({team:s,rotationWeeks:t,rotationType:r="weekly"}){const{cycleLength:c,rotationMembers:n}=N.useMemo(()=>{const m=s.filter(p=>!p.workingHours.toLowerCase().includes("backup")&&p.hoursPerWeek>0),g=t||m.length||8,o=m.length>0?m:s.slice(0,g);return{cycleLength:g,rotationMembers:o}},[s,t]),a=N.useMemo(()=>{const m=new Map;return n.forEach((g,o)=>m.set(g,o)),m},[n]),l=N.useCallback(m=>G[m%G.length],[]),u=N.useCallback(m=>m.replace(/\s*\(.*\)/,""),[]),{isRegionalShift:h,euMembers:k,apacMembers:b,usMembers:x,dayShiftMembers:d}=N.useMemo(()=>{const m=[...new Set(n.map(j=>j.timezone))],g=r==="shift"&&m.length>1,o=n.filter(j=>j.region==="EU"),p=n.filter(j=>j.region==="APAC"),C=n.filter(j=>j.region==="US"),S=o.length>0?o:p;return{isRegionalShift:g,euMembers:o,apacMembers:p,usMembers:C,dayShiftMembers:S}},[n,r]),f=N.useCallback(m=>m.timezone.includes("New_York")?"ET":m.timezone.includes("Los_Angeles")?"PT":m.timezone.includes("Chicago")?"CT":m.timezone.includes("London")?"GMT":m.timezone.includes("Tokyo")?"JST":m.timezone.includes("Singapore")||m.timezone.includes("Shanghai")?"SGT":m.region,[]),i=N.useMemo(()=>Array.from({length:30},(m,g)=>{const o=g%7,p=o>=5;if(r==="shift"){if(h&&d.length>0&&x.length>0){const O=g%d.length,L=(g+Math.floor(d.length/2))%d.length,R=g%x.length,M=(g+Math.floor(x.length/2))%x.length,_=a.get(d[O])??0,D=a.get(x[R])??0;return{dayNumber:g+1,dayOfWeek:o,dayPrimary:d[O],dayPrimaryColorIndex:_,dayBackup:d[L],dayBackupColorIndex:a.get(d[L])??0,nightPrimary:x[R],nightPrimaryColorIndex:D,nightBackup:x[M],nightBackupColorIndex:a.get(x[M])??0,isWeekend:p,isShift:!0,isDaily:!1,isRegional:!0}}const v=g%n.length,A=(g+3)%n.length,T=(g+6)%n.length,B=(g+9)%n.length;return{dayNumber:g+1,dayOfWeek:o,dayPrimary:n[v],dayPrimaryColorIndex:v,dayBackup:n[A],dayBackupColorIndex:A,nightPrimary:n[T],nightPrimaryColorIndex:T,nightBackup:n[B],nightBackupColorIndex:B,isWeekend:p,isShift:!0,isDaily:!1,isRegional:!1}}if(r==="daily"){const v=g%n.length,A=(g+Math.floor(n.length/2))%n.length,T=!p;return{dayNumber:g+1,dayOfWeek:o,primary:n[v],primaryColorIndex:v,secondary:T?n[A]:null,secondaryColorIndex:T?A:-1,isWeekend:p,isShift:!1,isDaily:!0,hasCoverage:!0}}const S=Math.floor(g/7)%n.length,j=(S+1)%n.length;return{dayNumber:g+1,dayOfWeek:o,primary:n[S],primaryColorIndex:S,secondary:n[j],secondaryColorIndex:j,isWeekend:p,isShift:!1,isDaily:!1}}),[r,h,d,x,n,a]),y=N.useMemo(()=>{const m=[];for(let g=0;g<5;g++){const o=[];for(let p=0;p<7;p++){const C=g*7+p;o.push(C<30?i[C]:null)}m.push(o)}return m},[i]);return e.jsxs(U,{children:[e.jsx(H,{className:"pb-3",children:e.jsx(E,{as:"h2",className:"text-base",children:"Monthly Coverage (30 Days)"})}),e.jsx(z,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"grid grid-cols-7 gap-1",children:Ee.map(m=>e.jsx("div",{className:"text-xs font-medium text-muted-foreground text-center py-1",children:m},m))}),e.jsx("div",{className:"space-y-1",children:y.map((m,g)=>e.jsx("div",{className:"grid grid-cols-7 gap-1",children:m.map((o,p)=>{if(!o)return e.jsx("div",{className:"aspect-square rounded bg-zinc-100 dark:bg-zinc-800/30"},p);if(o.isShift){const L=l(o.dayPrimaryColorIndex),R=l(o.nightPrimaryColorIndex),M=u(o.dayPrimary.name),_=u(o.nightPrimary.name),D=f(o.dayPrimary),ee=f(o.nightPrimary),ge=de([`ðŸ“… ${ce[o.dayOfWeek]} (Day ${o.dayNumber})`,o.isWeekend&&"ðŸ—“ï¸ Weekend","","â˜€ï¸ Day Shift (12h)",`   Primary: ${M} (${D})`,o.dayBackup&&`   Backup: ${u(o.dayBackup.name)}`,"","ðŸŒ™ Night Shift (12h)",`   Primary: ${_} (${ee})`,o.nightBackup&&`   Backup: ${u(o.nightBackup.name)}`]);return e.jsxs("div",{className:`aspect-square rounded overflow-hidden flex flex-col ${o.isWeekend?"opacity-80":""}`,title:ge,children:[e.jsx("div",{className:"text-[10px] text-muted-foreground text-center bg-zinc-100 dark:bg-zinc-800/50 py-0.5",children:o.dayNumber}),e.jsx("div",{className:`flex-1 ${L.bg} flex items-center justify-center`,title:`â˜€ï¸ Day Shift: ${M} (${D})`,children:e.jsx("span",{className:`text-[10px] font-semibold ${L.text} truncate px-0.5`,children:M})}),e.jsx("div",{className:`flex-1 ${R.strip} flex items-center justify-center`,title:`ðŸŒ™ Night Shift: ${_} (${ee})`,children:e.jsx("span",{className:"text-[10px] font-semibold text-white dark:text-zinc-900 truncate px-0.5",children:_})})]},p)}if(o.isDaily&&!o.hasCoverage)return e.jsx("div",{className:"aspect-square rounded overflow-hidden flex flex-col opacity-50",title:`Day ${o.dayNumber}
No coverage (weekend)`,children:e.jsxs("div",{className:"flex-1 bg-zinc-200 dark:bg-zinc-700 flex flex-col items-center justify-center p-1",children:[e.jsx("span",{className:"text-xs text-muted-foreground leading-tight",children:o.dayNumber}),e.jsx("span",{className:"text-[10px] text-zinc-500 dark:text-zinc-400",children:"Off"})]})},p);const C=o.primary?l(o.primaryColorIndex):null,S=o.secondary?l(o.secondaryColorIndex):null,j=o.primary?u(o.primary.name):"None",v=o.secondary?u(o.secondary.name):null,A=o.primary?f(o.primary):"",T=o.secondary?f(o.secondary):"",B=Math.floor((o.dayNumber-1)/7)+1,O=de([`ðŸ“… ${ce[o.dayOfWeek]} (Day ${o.dayNumber})`,r==="weekly"&&`ðŸ“† Week ${B} of ${c}`,o.isWeekend&&"ðŸ—“ï¸ Weekend","",`ðŸ‘¤ Primary: ${j}${A?` (${A})`:""}`,o.primary?.workingHours&&`   ${o.primary.workingHours}`,v&&"",v&&`ðŸ‘¥ Secondary: ${v}${T?` (${T})`:""}`,o.secondary?.workingHours&&`   ${o.secondary.workingHours}`,"",r==="weekly"?"â±ï¸ 24/7 coverage for the week":"â±ï¸ 24h shift"]);return e.jsxs("div",{className:`aspect-square rounded overflow-hidden flex flex-col ${o.isWeekend?"opacity-80":""}`,title:O,children:[e.jsxs("div",{className:`flex-1 ${C?.bg||"bg-zinc-200 dark:bg-zinc-700"} flex flex-col items-center justify-center p-1`,children:[e.jsx("span",{className:"text-xs text-muted-foreground leading-tight",children:o.dayNumber}),e.jsx("span",{className:`text-xs font-semibold truncate w-full text-center leading-tight ${C?.text||"text-zinc-600"}`,children:j})]}),S&&v&&e.jsx("div",{className:`h-6 ${S.strip} flex items-center justify-center px-1`,title:`ðŸ‘¥ Secondary: ${v}${T?` (${T})`:""}`,children:e.jsx("span",{className:"text-[11px] font-medium text-white dark:text-zinc-900 truncate",children:v})})]},p)})},g))}),e.jsxs("div",{className:"flex flex-wrap items-center gap-x-4 gap-y-2 pt-3 border-t text-xs",children:[r==="shift"?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex flex-col w-4 h-4 rounded overflow-hidden",children:[e.jsx("div",{className:"flex-1 bg-zinc-300 dark:bg-zinc-600"}),e.jsx("div",{className:"flex-1 bg-zinc-500 dark:bg-zinc-400"})]}),e.jsx("span",{className:"text-muted-foreground",children:h?b.length>0?"APAC / US":"EU / US":"Day / Night"})]}):e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex flex-col w-4 h-4 rounded overflow-hidden",children:[e.jsx("div",{className:"flex-1 bg-zinc-300 dark:bg-zinc-600"}),e.jsx("div",{className:"h-1 bg-zinc-500 dark:bg-zinc-400"})]}),e.jsx("span",{className:"text-muted-foreground",children:"Primary / Secondary"})]}),e.jsx("div",{className:"h-4 border-l border-zinc-300 dark:border-zinc-600"}),n.map((m,g)=>{const o=l(g),p=u(m.name);return e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:`w-3 h-3 rounded ${o.bg}`}),e.jsx("span",{children:p})]},m.name)})]}),e.jsx("p",{className:"text-xs text-muted-foreground pt-1",children:r==="shift"?h?b.length>0?`${b.length} APAC + ${x.length} US. APAC covers 02-14 UTC (daytime Tokyo), US covers 14-02 UTC (daytime LA). Each region rotates within their shift.`:`${k.length} EU + ${x.length} US. EU covers daytime, US covers evening/night. Each region rotates within their shift.`:`${n.length}-person rotation. Each person cycles through both day and night shifts over ${n.length} days.`:r==="daily"?`${n.length}-person daily rotation. Primary 24/7, Secondary during business hours only (weekdays).`:`${c}-week rotation. Secondary shadows primary before taking over the next week.`})]})})]})}const w={et:{bg:"bg-emerald-700 dark:bg-emerald-600",text:"text-white"},pt:{bg:"bg-sky-500 dark:bg-sky-600",text:"text-white"},rotating:{bg:"bg-zinc-400 dark:bg-zinc-600",text:"text-white"}};function W(s){return s.filter(Boolean).join(`
`)}function me(s,t){try{const r=new Date;return r.setUTCHours(s%24,0,0,0),new Intl.DateTimeFormat("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1,timeZone:t}).format(r)}catch{return`${(s%24).toString().padStart(2,"0")}:00`}}function F(s){return me(s,"America/New_York")}function J(s){return me(s,"America/Los_Angeles")}function We({etPrimaryHours:s={start:14,end:19},ptPrimaryHours:t={start:19,end:25},overlapHours:r={start:17,end:22}}){const c=s.start,n=t.end,a=n-c,l=(s.end-s.start)/a*100,u=(t.end-t.start)/a*100,h=(r.start-c)/a*100,k=(s.end-r.start)/a*100,b=(r.end-s.end)/a*100,x=(n-r.end)/a*100,d=1,f=14,i=y=>y>=24?`0${y-24}:00`:`${y}:00`;return e.jsxs(U,{children:[e.jsx(H,{className:"pb-3",children:e.jsx(E,{as:"h2",className:"text-base",children:"Daily Coverage Pattern"})}),e.jsx(z,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"text-sm font-medium",children:"Business Hours"}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:[i(c)," - ",i(n)," UTC"]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:"Primary"}),e.jsxs("div",{className:"relative h-10 rounded-lg overflow-hidden flex",children:[e.jsx("div",{className:`${w.et.bg} flex items-center justify-center`,style:{width:`${l}%`},title:W(["ðŸ‘¤ US East (ET) - Primary","",`â° ${i(s.start)} - ${i(s.end)} UTC`,`ðŸ  ${F(s.start)} - ${F(s.end)} ET`,`â±ï¸ Duration: ${s.end-s.start}h`,"","ðŸ“‹ Handles all incoming incidents"]),children:e.jsx("span",{className:`text-sm font-semibold ${w.et.text}`,children:"US East"})}),e.jsx("div",{className:`${w.pt.bg} flex items-center justify-center`,style:{width:`${u}%`},title:W(["ðŸ‘¤ US West (PT) - Primary","",`â° ${i(t.start)} - ${i(t.end>24?t.end-24:t.end)} UTC`,`ðŸ  ${J(t.start)} - ${J(t.end>24?t.end-24:t.end)} PT`,`â±ï¸ Duration: ${t.end-t.start}h`,"","ðŸ“‹ Handles all incoming incidents"]),children:e.jsx("span",{className:`text-sm font-semibold ${w.pt.text}`,children:"US West"})})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:"Secondary"}),e.jsxs("div",{className:"relative h-10 rounded-lg overflow-hidden flex",children:[e.jsx("div",{className:`${w.rotating.bg} flex items-center justify-center`,style:{width:`${h}%`},title:W(["ðŸ”„ Rotating Secondary","",`â° ${i(c)} - ${i(r.start)} UTC`,`â±ï¸ Duration: ${r.start-c}h`,"","ðŸ“‹ Only ET in office - secondary from on-call rotation"]),children:e.jsx("span",{className:`text-xs font-medium ${w.rotating.text}`,children:"Rotating"})}),e.jsx("div",{className:`${w.pt.bg} flex items-center justify-center`,style:{width:`${k}%`},title:W(["ðŸ‘¥ US West (PT) - Secondary","",`â° ${i(r.start)} - ${i(s.end)} UTC`,`ðŸ  ${J(r.start)} - ${J(s.end)} PT`,`â±ï¸ Duration: ${s.end-r.start}h`,"","ðŸ“‹ Escalation backup while ET is primary"]),children:e.jsx("span",{className:`text-xs font-medium ${w.pt.text}`,children:"US West"})}),e.jsx("div",{className:`${w.et.bg} flex items-center justify-center`,style:{width:`${b}%`},title:W(["ðŸ‘¥ US East (ET) - Secondary","",`â° ${i(s.end)} - ${i(r.end)} UTC`,`ðŸ  ${F(s.end)} - ${F(r.end)} ET`,`â±ï¸ Duration: ${r.end-s.end}h`,"","ðŸ“‹ Escalation backup while PT is primary"]),children:e.jsx("span",{className:`text-xs font-medium ${w.et.text}`,children:"US East"})}),e.jsx("div",{className:`${w.rotating.bg} flex items-center justify-center`,style:{width:`${x}%`},title:W(["ðŸ”„ Rotating Secondary","",`â° ${i(r.end)} - ${i(n>24?n-24:n)} UTC`,`â±ï¸ Duration: ${n-r.end}h`,"","ðŸ“‹ Only PT in office - secondary from on-call rotation"]),children:e.jsx("span",{className:`text-xs font-medium ${w.rotating.text}`,children:"Rotating"})})]})]}),e.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[e.jsx("span",{children:i(c)}),e.jsx("span",{children:i(r.start)}),e.jsx("span",{children:i(s.end)}),e.jsx("span",{children:i(r.end)}),e.jsx("span",{children:i(n)})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"text-sm font-medium",children:"Off-Hours"}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:["0",d,":00 - ",f,":00 UTC"]})]}),e.jsx("div",{className:"relative h-10 rounded-lg overflow-hidden flex",children:e.jsx("div",{className:`w-full ${w.rotating.bg} flex items-center justify-center`,title:W(["ðŸ”„ Rotating On-Call","",`â° 0${d}:00 - ${f}:00 UTC`,`â±ï¸ Duration: ${f-d}h`,"","ðŸ‘¤ Primary only (no secondary coverage)","ðŸ” Alternates between ET and PT daily:","   Mon: PT, Tue: ET, Wed: PT, Thu: ET...","","ðŸ“‹ Handles all incidents until business hours resume"]),children:e.jsx("span",{className:`text-sm font-semibold ${w.rotating.text}`,children:"Rotating On-Call (Primary Only)"})})}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Single on-call rotates daily between ET and PT team members"})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 pt-2 border-t text-xs",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:`w-3 h-3 rounded ${w.et.bg}`}),e.jsx("span",{children:"US East (ET)"})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:`w-3 h-3 rounded ${w.pt.bg}`}),e.jsx("span",{children:"US West (PT)"})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:`w-3 h-3 rounded ${w.rotating.bg}`}),e.jsx("span",{children:"Rotating"})]})]})]})})]})}function Me({metrics:s}){return e.jsxs(U,{children:[e.jsx(H,{className:"pb-2",children:e.jsx(E,{as:"h2",className:"text-sm font-medium",children:"Key Metrics"})}),e.jsxs(z,{children:[e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[e.jsx($,{label:"Coverage",value:`${s.coveragePercent}%`,highlight:s.coveragePercent===100}),e.jsx($,{label:"Team Size",value:`${s.teamSize}`}),e.jsx($,{label:"Shift Length",value:s.shiftLength}),e.jsx($,{label:"Handoffs/Week",value:`${s.handoffsPerWeek}`,warning:s.handoffsPerWeek>14}),e.jsx($,{label:"Night Hours",value:`${s.nightHoursPerPerson}h`,highlight:s.nightHoursPerPerson===0,warning:s.nightHoursPerPerson>10}),e.jsx($,{label:"Weekend Hours",value:`${s.weekendHoursPerPerson}h`}),e.jsx($,{label:"Hours/Week",value:`${s.hoursPerWeekPerPerson}h`}),e.jsx($,{label:"Frequency",value:s.onCallFrequency,small:!0})]}),e.jsxs("div",{className:"mt-4 pt-3 border-t text-sm text-muted-foreground",children:[e.jsx("span",{className:"font-medium",children:"Rotation:"})," ",s.rotation]})]})]})}function $({label:s,value:t,highlight:r,warning:c,small:n}){return e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:s}),e.jsx("div",{className:`font-semibold ${n?"text-sm":"text-lg"} ${r?"text-green-600 dark:text-green-400":c?"text-amber-600 dark:text-amber-400":""}`,children:t})]})}const I={"America/New_York":{bg:"bg-emerald-700 dark:bg-emerald-600"},"America/Los_Angeles":{bg:"bg-sky-500 dark:bg-sky-600"},"America/Chicago":{bg:"bg-emerald-700 dark:bg-emerald-600"},"Europe/London":{bg:"bg-rose-400 dark:bg-rose-600"},"Asia/Tokyo":{bg:"bg-violet-400 dark:bg-violet-600"}};function Le({team:s}){const t=s.every(a=>a.region==="Single"),r=[...new Set(s.map(a=>a.timezone))],c=s.every(a=>a.region==="US")&&r.length>1,n=(a,l)=>t?G[l%G.length].strip:c&&I[a.timezone]?.bg||K[a.region].bg;return e.jsxs(U,{children:[e.jsx(H,{className:"pb-2",children:e.jsx(E,{as:"h2",className:"text-sm font-medium",children:"Sample Team"})}),e.jsxs(z,{children:[e.jsx("div",{className:"space-y-2",children:s.map((a,l)=>{const u=n(a,l),h=re[a.timezone]||a.region;return e.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-lg bg-zinc-50 dark:bg-zinc-900/50",children:[e.jsx("div",{className:`w-2 h-8 rounded-full ${u}`,title:h}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"text-sm font-medium truncate",children:a.name}),e.jsx("div",{className:"text-xs text-muted-foreground truncate",children:a.workingHours})]}),e.jsxs("div",{className:"flex gap-4 text-xs text-muted-foreground shrink-0",children:[e.jsxs("span",{title:"Hours per week",children:[a.hoursPerWeek,"h/wk"]}),a.nightHours>0&&e.jsxs("span",{className:"text-amber-600 dark:text-amber-400",title:"Night hours",children:[a.nightHours,"h nights"]})]})]},l)})}),e.jsx("div",{className:"flex flex-wrap gap-4 mt-3 pt-3 border-t text-xs text-muted-foreground",children:t?e.jsx("span",{children:"Time Zone Agnostic"}):c?e.jsxs(e.Fragment,{children:[r.includes("America/New_York")&&e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:`w-3 h-3 rounded ${I["America/New_York"].bg}`}),e.jsx("span",{children:"US East"})]}),r.includes("America/Chicago")&&e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:`w-3 h-3 rounded ${I["America/Chicago"].bg}`}),e.jsx("span",{children:"US Central"})]}),r.includes("America/Los_Angeles")&&e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:`w-3 h-3 rounded ${I["America/Los_Angeles"].bg}`}),e.jsx("span",{children:"US West"})]})]}):r.map(a=>{const l=s.find(k=>k.timezone===a);if(!l)return null;const u=K[l.region],h=re[a]||l.region;return e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:`w-3 h-3 rounded ${u.bg}`}),e.jsx("span",{children:h})]},a)})})]})]})}function _e({tradeoffs:s}){return e.jsxs(U,{children:[e.jsx(H,{className:"pb-2",children:e.jsx(E,{as:"h2",className:"text-sm font-medium",children:"Tradeoffs"})}),e.jsx(z,{children:e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"text-xs font-medium text-green-600 dark:text-green-400 uppercase tracking-wide",children:"Advantages"}),e.jsx("ul",{className:"space-y-1.5",children:s.pros.map((t,r)=>e.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[e.jsx(he,{className:"w-4 h-4 text-green-500 shrink-0 mt-0.5"}),e.jsx("span",{children:t})]},r))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"text-xs font-medium text-amber-600 dark:text-amber-400 uppercase tracking-wide",children:"Considerations"}),e.jsx("ul",{className:"space-y-1.5",children:s.cons.map((t,r)=>e.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[e.jsx(ue,{className:"w-4 h-4 text-amber-500 shrink-0 mt-0.5"}),e.jsx("span",{children:t})]},r))})]})]})})]})}function Ie(){const[s,t]=N.useState(q[0].id),r=Se(s)??q[0];return e.jsxs("div",{className:"space-y-6",children:[e.jsx("p",{className:"text-muted-foreground",children:"Compare different on-call coverage models to find the right fit for your team. Select a model to see how it distributes coverage, burden, and tradeoffs."}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2",children:[e.jsx("label",{className:"text-sm font-medium shrink-0",children:"Coverage Model:"}),e.jsxs(xe,{value:s,onValueChange:c=>{t(c),ye({tool_name:"oncall_coverage",action:"model_select",event_label:c})},children:[e.jsx(fe,{className:"w-full sm:w-80","aria-label":"Select coverage model",children:e.jsx(ke,{})}),e.jsx(pe,{children:q.map(c=>e.jsx(be,{value:c.id,children:c.name},c.id))})]})]}),e.jsxs("div",{role:"status","aria-live":"polite",className:"sr-only",children:["Selected: ",r.name]}),e.jsx("p",{className:"text-sm text-muted-foreground border-l-2 border-primary/30 pl-3",children:r.description}),e.jsxs("div",{className:"space-y-6",children:[!["follow-the-sun","weekly-rotation","12-hour-shifts"].includes(r.id)&&e.jsx(Te,{coverage:r.coverage}),!["weekly-rotation","business-hours"].includes(r.id)&&e.jsx(Ue,{coverage:r.coverage,team:r.team}),r.id==="business-hours"&&e.jsx(We,{etPrimaryHours:{start:14,end:19},ptPrimaryHours:{start:19,end:25},overlapHours:{start:17,end:22}}),!["follow-the-sun","weekly-rotation","12-hour-shifts","business-hours"].includes(r.id)&&e.jsx(He,{coverage:r.coverage,team:r.team}),!["follow-the-sun","business-hours","12-hour-shifts"].includes(r.id)&&e.jsx(ze,{team:r.team,rotationWeeks:r.rotationWeeks,rotationType:r.rotationType}),e.jsx(Me,{metrics:r.metrics}),e.jsx(Le,{team:r.team}),e.jsx(_e,{tradeoffs:r.tradeoffs})]})]})}export{Ie as default};
