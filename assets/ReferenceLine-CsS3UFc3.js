import{r as o}from"./vendor-DeyLhXpq.js";import{l as C}from"./index-C80gN8Bw.js";import{r as M,D,u as _,a as W,b as $,c as F,e as N,f as y,s as z,g as V,h as w,i as X,j as Y,Z,L as B,C as H,k as K,l as v,m as E}from"./CategoricalChart-duV1COC7.js";import{r as T}from"./CartesianChart-CwdFezkh.js";class q{constructor(e){var{x:n,y:a}=e;this.xAxisScale=n,this.yAxisScale=a}map(e,n){var a,t,{position:l}=n;return{x:(a=this.xAxisScale.map(e.x,{position:l}))!==null&&a!==void 0?a:0,y:(t=this.yAxisScale.map(e.y,{position:l}))!==null&&t!==void 0?t:0}}mapWithFallback(e,n){var a,t,{position:l,fallback:s}=n,c,i;return s==="rangeMin"?c=this.yAxisScale.rangeMin():s==="rangeMax"?c=this.yAxisScale.rangeMax():c=0,s==="rangeMin"?i=this.xAxisScale.rangeMin():s==="rangeMax"?i=this.xAxisScale.rangeMax():i=0,{x:(a=this.xAxisScale.map(e.x,{position:l}))!==null&&a!==void 0?a:i,y:(t=this.yAxisScale.map(e.y,{position:l}))!==null&&t!==void 0?t:c}}isInRange(e){var{x:n,y:a}=e,t=n==null||this.xAxisScale.isInRange(n),l=a==null||this.yAxisScale.isInRange(a);return t&&l}}function j(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable})),n.push.apply(n,a)}return n}function L(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?j(Object(n),!0).forEach(function(a){G(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function G(r,e,n){return(e=J(e))in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function J(r){var e=Q(r,"string");return typeof e=="symbol"?e:e+""}function Q(r,e){if(typeof r!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function g(){return g=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)({}).hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},g.apply(null,arguments)}var U=(r,e)=>{var n;if(o.isValidElement(r))n=o.cloneElement(r,e);else if(typeof r=="function")n=r(e);else{if(!v(e.x1)||!v(e.y1)||!v(e.x2)||!v(e.y2))return null;n=o.createElement("line",g({},e,{className:"recharts-reference-line-line"}))}return n},ee=(r,e,n,a,t,l)=>{var{x:s,width:c}=l,i=t.map(r,{position:n});if(!v(i)||e==="discard"&&!t.isInRange(i))return null;var u=[{x:s+c,y:i},{x:s,y:i}];return a==="left"?u.reverse():u},re=(r,e,n,a,t,l)=>{var{y:s,height:c}=l,i=t.map(r,{position:n});if(!v(i)||e==="discard"&&!t.isInRange(i))return null;var u=[{x:i,y:s+c},{x:i,y:s}];return a==="top"?u.reverse():u},ne=(r,e,n,a)=>{var t=[a.mapWithFallback(r[0],{position:n,fallback:"rangeMin"}),a.mapWithFallback(r[1],{position:n,fallback:"rangeMax"})];return e==="discard"&&t.some(l=>!a.isInRange(l))?null:t},ae=(r,e,n,a,t,l,s)=>{var{x:c,y:i,segment:u,ifOverflow:x}=s,d=E(c),m=E(i);return m?ee(i,x,a,l,e,n):d?re(c,x,a,t,r,n):u!=null&&u.length===2?ne(u,x,a,new q({x:r,y:e})):null};function te(r){var e=_();return o.useEffect(()=>(e(W(r)),()=>{e($(r))})),null}function ie(r){var{xAxisId:e,yAxisId:n,shape:a,className:t,ifOverflow:l}=r,s=F(),c=N(),i=y(f=>z(f,e)),u=y(f=>V(f,n)),x=y(f=>w(f,"xAxis",e,s)),d=y(f=>w(f,"yAxis",n,s)),m=X();if(!c||!m||i==null||u==null||x==null||d==null)return null;var p=ae(x,d,m,r.position,i.orientation,u.orientation,r);if(!p)return null;var b=p[0],A=p[1];if(b==null||A==null)return null;var{x:P,y:O}=b,{x:I,y:S}=A,R=l==="hidden"?"url(#".concat(c,")"):void 0,k=L(L({clipPath:R},Y(r)),{},{x1:P,y1:O,x2:I,y2:S}),h=T({x1:P,y1:O,x2:I,y2:S});return o.createElement(Z,{zIndex:r.zIndex},o.createElement(B,{className:C("recharts-reference-line",t)},U(a,k),o.createElement(H,g({},h,{lowerWidth:h.width,upperWidth:h.width}),o.createElement(K,{label:r.label}),r.children)))}var le={ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",label:!1,stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle",zIndex:D.line};function se(r){var e=M(r,le);return o.createElement(o.Fragment,null,o.createElement(te,{yAxisId:e.yAxisId,xAxisId:e.xAxisId,ifOverflow:e.ifOverflow,x:e.x,y:e.y,segment:e.segment}),o.createElement(ie,e))}se.displayName="ReferenceLine";export{q as C,se as R};
