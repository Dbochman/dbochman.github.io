{"version":3,"mappings":"6XAKA,MAAMA,EAAa,+BAGnB,SAAwBC,GAAc,CACpC,KAAM,CAACC,EAAOC,CAAQ,EAAIC,WAA2B,IAAI,EACnD,CAACC,EAAeC,CAAgB,EAAIF,WAAwB,IAAI,EAChE,CAACG,EAAOC,CAAQ,EAAIJ,WAAwB,IAAI,EAEtDK,mBAAU,IAAM,CACd,eAAeC,GAAY,CAEzB,GAAI,CACF,MAAMC,EAAS,MAAM,MAAM,GAAGX,CAAU,eAAgB,CACtD,YAAa,UACd,EAED,GAAIW,EAAO,GAAI,CACb,MAAMC,EAAU,MAAMD,EAAO,OAC7BR,EAASS,EAAQ,KAAK,EACtBN,EAAiBM,EAAQ,aAAa,EACtC,MACF,CACF,MAAQ,CAEN,QAAQ,MAAM,wDAAwD,CACxE,CAGA,GAAI,CACF,MAAMC,EAAS,MAAAC,EAAA,IAAM,OAAO,qBAA6B,OAAAC,KAAA,OACzDZ,EAASU,EAAO,KAAK,EACrBP,EAAiB,IAAI,CACvB,OAASU,EAAK,CACZR,EAASQ,aAAe,MAAQA,EAAI,QAAU,sBAAsB,CACtE,CACF,CAEAN,EAAA,CACF,EAAG,EAAE,EAGHO,MAACC,GACC,SAAAD,MAAC,WAAQ,UAAU,aACjB,SAAAE,OAAC,OAAI,UAAU,oBACb,UAAAF,MAAC,MAAG,UAAU,0BAA0B,MAAO,CAAE,mBAAoB,cAAgB,0BAAc,EAClGV,GAASY,OAAC,OAAI,UAAU,eAAe,mCAAuBZ,CAAA,EAAM,EACpE,CAACL,GAAS,CAACK,GAASU,MAAC,OAAI,UAAU,yCAAyC,EAC5Ef,GACCe,MAACG,EAAA,CACC,aAAclB,EACd,QAAQ,QACR,qBAAsBG,CAAA,EACxB,EAEJ,EACF,EACF,CAEJ","names":["WORKER_URL","HouseKanban","board","setBoard","useState","headCommitSha","setHeadCommitSha","error","setError","useEffect","loadBoard","apiRes","apiData","module","__vitePreload","n","err","jsx","PageLayout","jsxs","KanbanBoard"],"ignoreList":[],"sources":["../../src/components/projects/house/index.tsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { KanbanBoard } from '../kanban/KanbanBoard';\nimport type { KanbanBoard as BoardType } from '@/types/kanban';\nimport PageLayout from '@/components/layout/PageLayout';\n\nconst WORKER_URL = 'https://api.dylanbochman.com';\n\n// Unlisted utility route - no SEO metadata but uses standard layout\nexport default function HouseKanban() {\n  const [board, setBoard] = useState<BoardType | null>(null);\n  const [headCommitSha, setHeadCommitSha] = useState<string | null>(null);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    async function loadBoard() {\n      // Try worker API first (has commit SHA for conflict detection)\n      try {\n        const apiRes = await fetch(`${WORKER_URL}/board/house`, {\n          credentials: 'include',\n        });\n\n        if (apiRes.ok) {\n          const apiData = await apiRes.json();\n          setBoard(apiData.board);\n          setHeadCommitSha(apiData.headCommitSha);\n          return;\n        }\n      } catch {\n        // API unavailable, fall back to precompiled JS\n        console.debug('Worker API unavailable, falling back to precompiled JS');\n      }\n\n      // Fallback: load from precompiled JS (no commit SHA - saves may not work)\n      try {\n        const module = await import('@/generated/kanban/house.js');\n        setBoard(module.board);\n        setHeadCommitSha(null); // No SHA available from static file\n      } catch (err) {\n        setError(err instanceof Error ? err.message : 'Failed to load board');\n      }\n    }\n\n    loadBoard();\n  }, []);\n\n  return (\n    <PageLayout>\n      <section className=\"py-12 px-4\">\n        <div className=\"max-w-7xl mx-auto\">\n          <h1 className=\"text-3xl font-bold mb-8\" style={{ viewTransitionName: 'page-title' }}>House Projects</h1>\n          {error && <div className=\"text-red-500\">Failed to load board: {error}</div>}\n          {!board && !error && <div className=\"animate-pulse h-96 bg-muted rounded-lg\" />}\n          {board && (\n            <KanbanBoard\n              initialBoard={board}\n              boardId=\"house\"\n              initialHeadCommitSha={headCommitSha}\n            />\n          )}\n        </div>\n      </section>\n    </PageLayout>\n  );\n}\n"],"file":"index-HSIbvFAt.js"}