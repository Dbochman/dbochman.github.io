import{j as e,r as f,t as O,E as $}from"./vendor-DeyLhXpq.js";import{C as W,a as V,b as L,e as R,c as U,f as k}from"./index-C80gN8Bw.js";import{I as q}from"./input-YB48jCN_.js";import{L as v}from"./label-zCgB-xLj.js";import{T as D}from"./textarea-CN7b-HjI.js";import{S as C,a as w,b as S,c as N,d as p}from"./select-CdX-EdLH.js";import"./monitoring-C74x5Iy6.js";import"./ui-BQCqNqg0.js";import"./theme-CfHJhC9-.js";const J={investigating:{label:"Investigating",description:"Initial acknowledgment, actively looking into the issue",color:"text-yellow-500"},identified:{label:"Identified",description:"Root cause found, working on a fix",color:"text-orange-500"},fixing:{label:"Fixing",description:"Actively implementing a fix",color:"text-purple-500"},monitoring:{label:"Monitoring",description:"Fix deployed, watching for stability",color:"text-blue-500"},resolved:{label:"Resolved",description:"Incident closed, service restored",color:"text-green-500"}},M={minor:{label:"Minor",description:"Limited impact, workaround available"},major:{label:"Major",description:"Significant impact, degraded performance"},critical:{label:"Critical",description:"Service unavailable, widespread impact"}},Q={service:"",severity:"major",description:"",actions:"",eta:""},E={api:{label:"API",service:"the API"},"web-app":{label:"Web Application",service:"the web application"},"mobile-app":{label:"Mobile App",service:"the mobile application"},dashboard:{label:"Dashboard",service:"the dashboard"},authentication:{label:"Authentication",service:"authentication services"},payments:{label:"Payments",service:"payment processing"},notifications:{label:"Notifications",service:"the notification system"},database:{label:"Database",service:"database services"},cdn:{label:"CDN / Static Assets",service:"content delivery"},email:{label:"Email",service:"email delivery"},"all-services":{label:"All Services",service:"all services"}},T={"degraded-performance":{label:"Degraded Performance",description:"slow response times and degraded performance",actions:"investigating the root cause of the performance degradation"},"service-unavailable":{label:"Service Unavailable",description:"errors when attempting to access the service",actions:"working to restore service availability"},"intermittent-errors":{label:"Intermittent Errors",description:"intermittent errors and failed requests",actions:"investigating the source of these errors"},"login-issues":{label:"Login / Auth Issues",description:"difficulty logging in or authenticating",actions:"investigating the authentication system"},"data-delays":{label:"Data Processing Delays",description:"delays in data processing and updates",actions:"working to clear the backlog and restore normal processing times"},"partial-outage":{label:"Partial Outage",description:"inability to access certain features",actions:"working to restore full functionality"},"scheduled-maintenance":{label:"Scheduled Maintenance",description:"temporary unavailability during scheduled maintenance",actions:"performing planned maintenance to improve service reliability"}},P={investigating:{label:"Investigating",action:"investigating the underlying cause"},"identified-fix":{label:"Deploying Fix",action:"deploying a fix to resolve the issue"},"rolling-back":{label:"Rolling Back",action:"rolling back the recent deployment to restore service"},"scaling-up":{label:"Scaling Infrastructure",action:"scaling up infrastructure to handle increased load"},restarting:{label:"Restarting Services",action:"restarting affected services"},"engaging-vendor":{label:"Engaging Vendor",action:"working with our infrastructure provider to resolve the issue"},"monitoring-fix":{label:"Monitoring Fix",action:"deployed the fix and monitoring for stability"},failover:{label:"Failing Over",action:"failing over to backup systems"}},A={"15min":{label:"Every 15 minutes",statement:"We will provide updates every 15 minutes until this issue is resolved."},"30min":{label:"Every 30 minutes",statement:"We will provide updates every 30 minutes until this issue is resolved."},"1hour":{label:"Every hour",statement:"We will provide hourly updates until this issue is resolved."},"2hours":{label:"Every 2 hours",statement:"We will provide updates every 2 hours until this issue is resolved."},"as-available":{label:"As information becomes available",statement:"We will provide updates as more information becomes available."},"next-business-day":{label:"Next business day",statement:"We will provide an update by the next business day."}};function X({incident:n,phase:a,selectedServicePreset:s,selectedPreset:i,selectedActionPreset:o,selectedCadence:c,customCadence:d,onChange:l,onServicePresetChange:h,onPresetChange:g,onActionPresetChange:j,onCadenceChange:I,onCustomCadenceChange:b}){const y=a!=="resolved",F=a!=="resolved";return e.jsxs(W,{children:[e.jsx(V,{className:"pb-4",children:e.jsx(L,{as:"h2",className:"text-base",children:"Incident Details"})}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{htmlFor:"servicePreset",children:"Affected Service"}),e.jsxs(C,{value:s||"none",onValueChange:h,children:[e.jsx(w,{id:"servicePreset",children:e.jsx(S,{placeholder:"Select a service..."})}),e.jsxs(N,{children:[e.jsx(p,{value:"none",children:"Select a service..."}),Object.entries(E).map(([r,x])=>e.jsx(p,{value:r,children:x.label},r)),e.jsx(p,{value:"custom",children:"Custom"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{htmlFor:"service",children:"Service Name"}),e.jsx(q,{id:"service",placeholder:"e.g., API, Dashboard, Authentication",value:n.service,onChange:r=>l("service",r.target.value)}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s&&s!=="custom"&&s!=="none"?"Edit to customize (will switch to Custom)":"Enter the affected service name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{htmlFor:"severity",children:"Severity"}),e.jsxs(C,{value:n.severity,onValueChange:r=>l("severity",r),children:[e.jsx(w,{id:"severity",children:e.jsx(S,{})}),e.jsx(N,{children:Object.keys(M).map(r=>e.jsxs(p,{value:r,children:[e.jsx("span",{className:"font-medium",children:M[r].label}),e.jsxs("span",{className:"text-muted-foreground ml-2",children:["â€” ",M[r].description]})]},r))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{htmlFor:"preset",children:"Issue Type"}),e.jsxs(C,{value:i||"none",onValueChange:g,children:[e.jsx(w,{id:"preset",children:e.jsx(S,{placeholder:"Select an issue type..."})}),e.jsxs(N,{children:[e.jsx(p,{value:"none",children:"Select an issue type..."}),Object.entries(T).map(([r,x])=>e.jsx(p,{value:r,children:x.label},r)),e.jsx(p,{value:"custom",children:"Custom"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{htmlFor:"description",children:a==="resolved"?"Summary":"Issue Description"}),e.jsx(D,{id:"description",placeholder:a==="resolved"?"Brief summary of what happened and how it was resolved":"Brief, customer-friendly description of the issue",value:n.description,onChange:r=>l("description",r.target.value),rows:2}),e.jsx("p",{className:"text-xs text-muted-foreground",children:i&&i!=="custom"&&i!=="none"?"Edit to customize (will switch to Custom)":"Keep it simple and avoid technical jargon"})]}),y&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{htmlFor:"actionPreset",children:"Action Type"}),e.jsxs(C,{value:o||"none",onValueChange:j,children:[e.jsx(w,{id:"actionPreset",children:e.jsx(S,{placeholder:"Select an action..."})}),e.jsxs(N,{children:[e.jsx(p,{value:"none",children:"None"}),Object.entries(P).map(([r,x])=>e.jsx(p,{value:r,children:x.label},r)),e.jsx(p,{value:"custom",children:"Custom"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{htmlFor:"actions",children:"Actions Being Taken"}),e.jsx(D,{id:"actions",placeholder:a==="investigating"?"e.g., investigating the root cause":a==="identified"?"e.g., deploying a fix to restore service":"e.g., deployed the fix and verified functionality",value:n.actions,onChange:r=>l("actions",r.target.value),rows:2}),e.jsx("p",{className:"text-xs text-muted-foreground",children:o&&o!=="custom"&&o!=="none"?"Edit to customize (will switch to Custom)":"Describe what your team is doing"})]})]}),F&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{htmlFor:"cadence",children:"Update Cadence"}),e.jsxs(C,{value:c||"none",onValueChange:I,children:[e.jsx(w,{id:"cadence",children:e.jsx(S,{placeholder:"Select update frequency..."})}),e.jsxs(N,{children:[e.jsx(p,{value:"none",children:"None"}),Object.entries(A).map(([r,x])=>e.jsx(p,{value:r,children:x.label},r)),e.jsx(p,{value:"custom",children:"Custom"})]})]})]}),c&&c!=="none"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{htmlFor:"customCadence",children:"Update Statement"}),e.jsx(D,{id:"customCadence",placeholder:"e.g., We will provide updates every hour until resolved.",value:d,onChange:r=>b(r.target.value),rows:2}),e.jsx("p",{className:"text-xs text-muted-foreground",children:c!=="custom"?"Edit to customize (will switch to Custom)":"This will be added to the end of the status message"})]})]})]})]})}const Z=["investigating","identified","fixing","monitoring","resolved"];function K({value:n,onChange:a}){return e.jsx(W,{children:e.jsxs(R,{className:"pt-6",children:[e.jsx(v,{className:"text-sm font-medium mb-3 block",children:"Incident Phase"}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-2",children:Z.map(s=>{const i=J[s],o=n===s;return e.jsxs("button",{onClick:()=>a(s),className:U("flex flex-col items-center p-3 rounded-lg border-2 transition-all text-left",o?"border-primary bg-primary/5":"border-border hover:border-primary/50 hover:bg-muted/50"),children:[e.jsx("span",{className:U("text-sm font-semibold",o?i.color:"text-foreground"),children:i.label}),e.jsx("span",{className:"text-xs text-muted-foreground mt-1 text-center hidden sm:block",children:i.description})]},s)})})]})})}function ee({title:n,message:a}){const[s,i]=f.useState(!1),[o,c]=f.useState(!1),d=async(l,h)=>{try{await navigator.clipboard.writeText(l),h==="title"?(i(!0),setTimeout(()=>i(!1),2e3)):(c(!0),setTimeout(()=>c(!1),2e3))}catch(g){console.error("Failed to copy:",g)}};return e.jsxs(W,{children:[e.jsx(V,{className:"pb-4",children:e.jsx(L,{as:"h2",className:"text-base",children:"Generated Status Update"})}),e.jsxs(R,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"Title / Subject"}),e.jsx(k,{variant:"ghost",size:"sm",className:"h-8 px-2",onClick:()=>d(n,"title"),children:s?e.jsxs(e.Fragment,{children:[e.jsx(O,{className:"h-4 w-4 mr-1"}),"Copied"]}):e.jsxs(e.Fragment,{children:[e.jsx($,{className:"h-4 w-4 mr-1"}),"Copy"]})})]}),e.jsx("div",{className:"p-3 bg-muted rounded-md font-mono text-sm",children:n})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"Message Body"}),e.jsx(k,{variant:"ghost",size:"sm",className:"h-8 px-2",onClick:()=>d(a,"message"),children:o?e.jsxs(e.Fragment,{children:[e.jsx(O,{className:"h-4 w-4 mr-1"}),"Copied"]}):e.jsxs(e.Fragment,{children:[e.jsx($,{className:"h-4 w-4 mr-1"}),"Copy"]})})]}),e.jsx("div",{className:"p-3 bg-muted rounded-md font-mono text-sm whitespace-pre-wrap",children:a})]}),e.jsxs(k,{variant:"outline",className:"w-full",onClick:()=>d(`${n}

${a}`,"message"),children:[e.jsx($,{className:"h-4 w-4 mr-2"}),"Copy Title + Message"]})]})]})}const se={minor:"Some users may experience",major:"Users are experiencing",critical:"Users are unable to access"},ie={minor:"minor",major:"significant",critical:"critical"};function te(n,a,s){const{service:i,severity:o,description:c,actions:d}=a,l=i.trim()||"[Service Name]",h=c.trim()||"[brief description of the issue]",g=d.trim();switch(n){case"investigating":return ne(l,o,h,s);case"identified":return ae(l,o,h,g,s);case"fixing":return re(l,h,g,s);case"monitoring":return oe(l,h,g,s);case"resolved":return ce(l);default:return""}}function ne(n,a,s,i){const o=se[a],c=i||"Our team is actively investigating and we will provide an update as soon as we have more information.";return[`We are investigating an issue affecting ${n}.`,"",`${o} ${s}.`,"",c].join(`
`)}function ae(n,a,s,i,o){const c=ie[a],d=o||"We will provide another update once the fix has been implemented.",l=[`We have identified the cause of the ${c} issue affecting ${n}.`,"",`Users may continue to experience ${s} until the issue is resolved.`];return i&&l.push("",`Our team is ${i}.`),l.push("",d),l.join(`
`)}function re(n,a,s,i){const o=i||"We will provide another update once the fix has been deployed.",c=[`We are actively working on a fix for the issue affecting ${n}.`,"",`Users may continue to experience ${a} until the issue is resolved.`];return s&&c.push("",`Our team is ${s}.`),c.push("",o),c.join(`
`)}function oe(n,a,s,i){const o=i||"We will continue to monitor and provide a final update once we confirm the issue is fully resolved.",c=s?`We have ${s} and are monitoring the results.`:"We are monitoring the results.";return[`A fix has been implemented for the issue affecting ${n}.`,"",c,"",o].join(`
`)}function ce(n){return[`The issue affecting ${n} has been resolved.`,"","Service has been restored to normal operation. We apologize for any inconvenience this may have caused.","","If you continue to experience issues, please contact our support team."].join(`
`)}function le(n,a){const s=a.service.trim()||"[Service]",i=a.severity.charAt(0).toUpperCase()+a.severity.slice(1);switch(n){case"investigating":return`[Investigating] ${i} issue with ${s}`;case"identified":return`[Identified] ${i} issue with ${s}`;case"fixing":return`[Fixing] ${i} issue with ${s}`;case"monitoring":return`[Monitoring] Issue with ${s}`;case"resolved":return`[Resolved] Issue with ${s}`;default:return`Issue with ${s}`}}function je(){const[n,a]=f.useState("investigating"),[s,i]=f.useState(Q),[o,c]=f.useState(""),[d,l]=f.useState(""),[h,g]=f.useState(""),[j,I]=f.useState(""),[b,y]=f.useState(""),F=(t,m)=>{if(i(u=>({...u,[t]:m})),t==="service"&&o&&o!=="custom"){const u=E[o];u&&m!==u.service&&c("custom")}if(t==="description"&&d&&d!=="custom"){const u=T[d];u&&m!==u.description&&l("custom")}if(t==="actions"&&h&&h!=="custom"){const u=P[h];u&&m!==u.action&&g("custom")}},r=t=>{if(c(t),t&&t!=="custom"&&t!=="none"&&E[t]){const m=E[t];i(u=>({...u,service:m.service}))}},x=t=>{if(l(t),t&&t!=="custom"&&t!=="none"&&T[t]){const m=T[t];i(u=>({...u,description:m.description}))}},_=t=>{if(g(t),t==="none")i(m=>({...m,actions:""}));else if(t&&t!=="custom"&&P[t]){const m=P[t];i(u=>({...u,actions:m.action}))}},z=t=>{I(t),t==="none"?y(""):t&&t!=="custom"&&A[t]&&y(A[t].statement)},B=t=>{if(y(t),j&&j!=="custom"&&j!=="none"){const m=A[j];m&&t!==m.statement&&I("custom")}},G=n!=="resolved"&&b?b:"",Y=le(n,s),H=te(n,s,G);return e.jsxs("div",{className:"space-y-6",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Generate clear, professional incident updates for your status page. Choose the incident phase, fill in the details, and copy the message to Statuspage, PagerDuty, Instatus, or any status page provider."}),e.jsx(K,{value:n,onChange:a}),e.jsx(X,{incident:s,phase:n,selectedServicePreset:o,selectedPreset:d,selectedActionPreset:h,selectedCadence:j,customCadence:b,onChange:F,onServicePresetChange:r,onPresetChange:x,onActionPresetChange:_,onCadenceChange:z,onCustomCadenceChange:B}),e.jsx(ee,{title:Y,message:H})]})}export{je as default};
